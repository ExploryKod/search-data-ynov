var Kn=Object.defineProperty;var Jn=(t,e,r)=>e in t?Kn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var pe=(t,e,r)=>Jn(t,typeof e!="symbol"?e+"":e,r);import{r as H,j as R,a as tt,g as qt,R as cr,q as Gn}from"./app-DbS1h2ju.js";import{A as Xn}from"./ApplicationLogo-fRaiuW_Y.js";import{z as Yn}from"./transition-Xc_e2TPo.js";const Vt=H.createContext(),ue=({children:t})=>{const[e,r]=H.useState(!1),n=()=>{r(i=>!i)};return R.jsx(Vt.Provider,{value:{open:e,setOpen:r,toggleOpen:n},children:R.jsx("div",{className:"relative",children:t})})},Zn=({children:t})=>{const{open:e,setOpen:r,toggleOpen:n}=H.useContext(Vt);return R.jsxs(R.Fragment,{children:[R.jsx("div",{onClick:n,children:t}),e&&R.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)})]})},ei=({align:t="right",width:e="48",contentClasses:r="py-1 bg-white dark:bg-gray-700",children:n})=>{const{open:i,setOpen:a}=H.useContext(Vt);let s="origin-top";t==="left"?s="ltr:origin-top-left rtl:origin-top-right start-0":t==="right"&&(s="ltr:origin-top-right rtl:origin-top-left end-0");let o="";return e==="48"&&(o="w-48"),R.jsx(R.Fragment,{children:R.jsx(Yn,{show:i,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:R.jsx("div",{className:`absolute z-50 mt-2 rounded-md shadow-lg ${s} ${o}`,onClick:()=>a(!1),children:R.jsx("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 "+r,children:n})})})})},ti=({className:t="",children:e,...r})=>R.jsx(tt,{...r,className:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none dark:text-gray-300 dark:hover:bg-gray-800 dark:focus:bg-gray-800 "+t,children:e});ue.Trigger=Zn;ue.Content=ei;ue.Link=ti;function ur({active:t=!1,className:e="",children:r,...n}){return R.jsx(tt,{...n,className:"inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium leading-5 transition duration-150 ease-in-out focus:outline-none "+(t?"border-indigo-400 text-gray-900 focus:border-indigo-700 dark:border-indigo-600 dark:text-gray-100":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700 dark:text-gray-400 dark:hover:border-gray-700 dark:hover:text-gray-300 dark:focus:border-gray-700 dark:focus:text-gray-300")+e,children:r})}function dt({active:t=!1,className:e="",children:r,...n}){return R.jsx(tt,{...n,className:`flex w-full items-start border-l-4 py-2 pe-4 ps-3 ${t?"border-indigo-400 bg-indigo-50 text-indigo-700 focus:border-indigo-700 focus:bg-indigo-100 focus:text-indigo-800 dark:border-indigo-600 dark:bg-indigo-900/50 dark:text-indigo-300 dark:focus:border-indigo-300 dark:focus:bg-indigo-900 dark:focus:text-indigo-200":"border-transparent text-gray-600 hover:border-gray-300 hover:bg-gray-50 hover:text-gray-800 focus:border-gray-300 focus:bg-gray-50 focus:text-gray-800 dark:text-gray-400 dark:hover:border-gray-600 dark:hover:bg-gray-700 dark:hover:text-gray-200 dark:focus:border-gray-600 dark:focus:bg-gray-700 dark:focus:text-gray-200"} text-base font-medium transition duration-150 ease-in-out focus:outline-none ${e}`,children:r})}function ri(){function t(e){return new Promise(r=>{let n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach(o=>n.setRequestHeader(o,e.headers[o]));let i=(o,u)=>setTimeout(()=>{n.abort(),r({status:0,content:u,isTimedOut:!0})},o),a=i(e.connectTimeout,"Connection timeout"),s;n.onreadystatechange=()=>{n.readyState>n.OPENED&&s===void 0&&(clearTimeout(a),s=i(e.responseTimeout,"Socket timeout"))},n.onerror=()=>{n.status===0&&(clearTimeout(a),clearTimeout(s),r({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=()=>{clearTimeout(a),clearTimeout(s),r({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)})}return{send:t}}function ni(t){let e;const r=`algolia-client-js-${t.key}`;function n(){return e===void 0&&(e=t.localStorage||window.localStorage),e}function i(){return JSON.parse(n().getItem(r)||"{}")}function a(o){n().setItem(r,JSON.stringify(o))}function s(){const o=t.timeToLive?t.timeToLive*1e3:null,u=i(),c=Object.fromEntries(Object.entries(u).filter(([,l])=>l.timestamp!==void 0));if(a(c),!o)return;const f=Object.fromEntries(Object.entries(c).filter(([,l])=>{const d=new Date().getTime();return!(l.timestamp+o<d)}));a(f)}return{get(o,u,c={miss:()=>Promise.resolve()}){return Promise.resolve().then(()=>(s(),i()[JSON.stringify(o)])).then(f=>Promise.all([f?f.value:u(),f!==void 0])).then(([f,l])=>Promise.all([f,l||c.miss(f)])).then(([f])=>f)},set(o,u){return Promise.resolve().then(()=>{const c=i();return c[JSON.stringify(o)]={timestamp:new Date().getTime(),value:u},n().setItem(r,JSON.stringify(c)),u})},delete(o){return Promise.resolve().then(()=>{const u=i();delete u[JSON.stringify(o)],n().setItem(r,JSON.stringify(u))})},clear(){return Promise.resolve().then(()=>{n().removeItem(r)})}}}function ii(){return{get(t,e,r={miss:()=>Promise.resolve()}){return e().then(i=>Promise.all([i,r.miss(i)])).then(([i])=>i)},set(t,e){return Promise.resolve(e)},delete(t){return Promise.resolve()},clear(){return Promise.resolve()}}}function Ee(t){const e=[...t.caches],r=e.shift();return r===void 0?ii():{get(n,i,a={miss:()=>Promise.resolve()}){return r.get(n,i,a).catch(()=>Ee({caches:e}).get(n,i,a))},set(n,i){return r.set(n,i).catch(()=>Ee({caches:e}).set(n,i))},delete(n){return r.delete(n).catch(()=>Ee({caches:e}).delete(n))},clear(){return r.clear().catch(()=>Ee({caches:e}).clear())}}}function mt(t={serializable:!0}){let e={};return{get(r,n,i={miss:()=>Promise.resolve()}){const a=JSON.stringify(r);if(a in e)return Promise.resolve(t.serializable?JSON.parse(e[a]):e[a]);const s=n();return s.then(o=>i.miss(o)).then(()=>s)},set(r,n){return e[JSON.stringify(r)]=t.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete(r){return delete e[JSON.stringify(r)],Promise.resolve()},clear(){return e={},Promise.resolve()}}}var ai=1e3,si=2e3,oi=3e4;function ci(t){const e={value:`Algolia for JavaScript (${t})`,add(r){const n=`; ${r.segment}${r.version!==void 0?` (${r.version})`:""}`;return e.value.indexOf(n)===-1&&(e.value=`${e.value}${n}`),e}};return e}function ui(t,e,r="WithinHeaders"){const n={"x-algolia-api-key":e,"x-algolia-application-id":t};return{headers(){return r==="WithinHeaders"?n:{}},queryParameters(){return r==="WithinQueryParameters"?n:{}}}}function fi({algoliaAgents:t,client:e,version:r}){const n=ci(r).add({segment:e,version:r});return t.forEach(i=>n.add(i)),n}function li(){return{debug(t,e){return Promise.resolve()},info(t,e){return Promise.resolve()},error(t,e){return Promise.resolve()}}}var fr=2*60*1e3;function lr(t,e="up"){const r=Date.now();function n(){return e==="up"||Date.now()-r>fr}function i(){return e==="timed out"&&Date.now()-r<=fr}return{...t,status:e,lastUpdate:r,isUp:n,isTimedOut:i}}var Jr=class extends Error{constructor(e,r){super(e);pe(this,"name","AlgoliaError");r&&(this.name=r)}},Gr=class extends Jr{constructor(e,r,n){super(e,n);pe(this,"stackTrace");this.stackTrace=r}},hi=class extends Gr{constructor(t){super("Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support.",t,"RetryError")}},jt=class extends Gr{constructor(e,r,n,i="ApiError"){super(e,n,i);pe(this,"status");this.status=r}},di=class extends Jr{constructor(e,r){super(e,"DeserializationError");pe(this,"response");this.response=r}},mi=class extends jt{constructor(e,r,n,i){super(e,r,i,"DetailedApiError");pe(this,"error");this.error=n}};function gi(t){const e=t;for(let r=t.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1)),i=t[r];e[r]=t[n],e[n]=i}return e}function vi(t,e,r){const n=pi(r);let i=`${t.protocol}://${t.url}${t.port?`:${t.port}`:""}/${e.charAt(0)==="/"?e.substring(1):e}`;return n.length&&(i+=`?${n}`),i}function pi(t){return Object.keys(t).filter(e=>t[e]!==void 0).sort().map(e=>`${e}=${encodeURIComponent(Object.prototype.toString.call(t[e])==="[object Array]"?t[e].join(","):t[e]).replace(/\+/g,"%20")}`).join("&")}function yi(t,e){if(t.method==="GET"||t.data===void 0&&e.data===void 0)return;const r=Array.isArray(t.data)?t.data:{...t.data,...e.data};return JSON.stringify(r)}function bi(t,e,r){const n={Accept:"application/json",...t,...e,...r},i={};return Object.keys(n).forEach(a=>{const s=n[a];i[a.toLowerCase()]=s}),i}function Ri(t){try{return JSON.parse(t.content)}catch(e){throw new di(e.message,t)}}function Si({content:t,status:e},r){try{const n=JSON.parse(t);return"error"in n?new mi(n.message,e,n.error,r):new jt(n.message,e,r)}catch{}return new jt(t,e,r)}function xi({isTimedOut:t,status:e}){return!t&&~~e===0}function Pi({isTimedOut:t,status:e}){return t||xi({isTimedOut:t,status:e})||~~(e/100)!==2&&~~(e/100)!==4}function wi({status:t}){return~~(t/100)===2}function Oi(t){return t.map(e=>Xr(e))}function Xr(t){const e=t.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...t,request:{...t.request,headers:{...t.request.headers,...e}}}}function _i({hosts:t,hostsCache:e,baseHeaders:r,logger:n,baseQueryParameters:i,algoliaAgent:a,timeouts:s,requester:o,requestsCache:u,responsesCache:c}){async function f(m){const g=await Promise.all(m.map(x=>e.get(x,()=>Promise.resolve(lr(x))))),h=g.filter(x=>x.isUp()),v=g.filter(x=>x.isTimedOut()),b=[...h,...v];return{hosts:b.length>0?b:m,getTimeout(x,S){return(v.length===0&&x===0?1:v.length+3+x)*S}}}async function l(m,g,h=!0){const v=[],b=yi(m,g),y=bi(r,m.headers,g.headers),x=m.method==="GET"?{...m.data,...g.data}:{},S={...i,...m.queryParameters,...x};if(a.value&&(S["x-algolia-agent"]=a.value),g&&g.queryParameters)for(const _ of Object.keys(g.queryParameters))!g.queryParameters[_]||Object.prototype.toString.call(g.queryParameters[_])==="[object Object]"?S[_]=g.queryParameters[_]:S[_]=g.queryParameters[_].toString();let P=0;const A=async(_,L)=>{const w=_.pop();if(w===void 0)throw new hi(Oi(v));const O={...s,...g.timeouts},N={data:b,headers:y,method:m.method,url:vi(w,m.path,S),connectTimeout:L(P,O.connect),responseTimeout:L(P,h?O.read:O.write)},q=X=>{const Y={request:N,response:X,host:w,triesLeft:_.length};return v.push(Y),Y},I=await o.send(N);if(Pi(I)){const X=q(I);return I.isTimedOut&&P++,n.info("Retryable failure",Xr(X)),await e.set(w,lr(w,I.isTimedOut?"timed out":"down")),A(_,L)}if(wi(I))return Ri(I);throw q(I),Si(I,v)},T=t.filter(_=>_.accept==="readWrite"||(h?_.accept==="read":_.accept==="write")),j=await f(T);return A([...j.hosts].reverse(),j.getTimeout)}function d(m,g={}){const h=m.useReadTransporter||m.method==="GET";if(!h)return l(m,g,h);const v=()=>l(m,g);if((g.cacheable||m.cacheable)!==!0)return v();const y={request:m,requestOptions:g,transporter:{queryParameters:i,headers:r}};return c.get(y,()=>u.get(y,()=>u.set(y,v()).then(x=>Promise.all([u.delete(y),x]),x=>Promise.all([u.delete(y),Promise.reject(x)])).then(([x,S])=>S)),{miss:x=>c.set(y,x)})}return{hostsCache:e,requester:o,timeouts:s,logger:n,algoliaAgent:a,baseHeaders:r,baseQueryParameters:i,hosts:t,request:d,requestsCache:u,responsesCache:c}}var Yr="5.15.0";function Fi(t){return[{url:`${t}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${t}.algolia.net`,accept:"write",protocol:"https"}].concat(gi([{url:`${t}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}function ji({appId:t,apiKey:e,authMode:r,algoliaAgents:n,...i}){const a=ui(t,e,r),s=_i({hosts:Fi(t),...i,algoliaAgent:fi({algoliaAgents:n,client:"Lite",version:Yr}),baseHeaders:{"content-type":"text/plain",...a.headers(),...i.baseHeaders},baseQueryParameters:{...a.queryParameters(),...i.baseQueryParameters}});return{transporter:s,appId:t,clearCache(){return Promise.all([s.requestsCache.clear(),s.responsesCache.clear()]).then(()=>{})},get _ua(){return s.algoliaAgent.value},addAlgoliaAgent(o,u){s.algoliaAgent.add({segment:o,version:u})},setClientApiKey({apiKey:o}){!r||r==="WithinHeaders"?s.baseHeaders["x-algolia-api-key"]=o:s.baseQueryParameters["x-algolia-api-key"]=o},searchForHits(o,u){return this.search(o,u)},searchForFacets(o,u){return this.search(o,u)},customPost({path:o,parameters:u,body:c},f){if(!o)throw new Error("Parameter `path` is required when calling `customPost`.");const g={method:"POST",path:"/{path}".replace("{path}",o),queryParameters:u||{},headers:{},data:c||{}};return s.request(g,f)},getRecommendations(o,u){if(o&&Array.isArray(o)&&(o={requests:o}),!o)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!o.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");const d={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:o,useReadTransporter:!0,cacheable:!0};return s.request(d,u)},search(o,u){if(o&&Array.isArray(o)&&(o={requests:o.map(({params:g,...h})=>h.type==="facet"?{...h,...g,type:"facet"}:{...h,...g,facet:void 0,maxFacetHits:void 0,facetQuery:void 0})}),!o)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!o.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");const d={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:o,useReadTransporter:!0,cacheable:!0};return s.request(d,u)}}}function Ei(t,e,r){return ji({appId:t,apiKey:e,timeouts:{connect:ai,read:si,write:oi},logger:li(),requester:ri(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:mt(),requestsCache:mt({serializable:!1}),hostsCache:Ee({caches:[ni({key:`${Yr}-${t}`}),mt()]}),...r})}const Et="7.13.8";function W(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var zt=W;W.prototype._events=void 0;W.prototype._maxListeners=void 0;W.defaultMaxListeners=10;W.prototype.setMaxListeners=function(t){if(!Ti(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this};W.prototype.emit=function(t){var e,r,n,i,a,s;if(this._events||(this._events={}),t==="error"&&(!this._events.error||Ce(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var o=new Error('Uncaught, unspecified "error" event. ('+e+")");throw o.context=e,o}if(r=this._events[t],Zr(r))return!1;if(se(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(Ce(r))for(i=Array.prototype.slice.call(arguments,1),s=r.slice(),n=s.length,a=0;a<n;a++)s[a].apply(this,i);return!0};W.prototype.addListener=function(t,e){var r;if(!se(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,se(e.listener)?e.listener:e),this._events[t]?Ce(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,Ce(this._events[t])&&!this._events[t].warned&&(Zr(this._maxListeners)?r=W.defaultMaxListeners:r=this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),typeof console.trace=="function"&&console.trace())),this};W.prototype.on=W.prototype.addListener;W.prototype.once=function(t,e){if(!se(e))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}return n.listener=e,this.on(t,n),this};W.prototype.removeListener=function(t,e){var r,n,i,a;if(!se(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],i=r.length,n=-1,r===e||se(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(Ce(r)){for(a=i;a-- >0;)if(r[a]===e||r[a].listener&&r[a].listener===e){n=a;break}if(n<0)return this;r.length===1?(r.length=0,delete this._events[t]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this};W.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[t]&&delete this._events[t],this;if(arguments.length===0){for(e in this._events)e!=="removeListener"&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],se(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this};W.prototype.listeners=function(t){var e;return!this._events||!this._events[t]?e=[]:se(this._events[t])?e=[this._events[t]]:e=this._events[t].slice(),e};W.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(se(e))return 1;if(e)return e.length}return 0};W.listenerCount=function(t,e){return t.listenerCount(e)};function se(t){return typeof t=="function"}function Ti(t){return typeof t=="number"}function Ce(t){return typeof t=="object"&&t!==null}function Zr(t){return t===void 0}const $i=qt(zt);function Ai(t,e){t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}var en=Ai,Ci=zt,Ni=en;function qe(t,e,r){this.main=t,this.fn=e,this.recommendFn=r,this.lastResults=null,this.lastRecommendResults=null}Ni(qe,Ci);qe.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)};qe.prototype.getModifiedState=function(t){return this.fn(t)};qe.prototype.getModifiedRecommendState=function(t){return this.recommendFn(t)};var Hi=qe;function Ii(t){return typeof t!="string"?t:String(t).replace(/^-/,"\\-")}function Di(t){return typeof t!="string"?t:t.replace(/^\\-/,"-")}var Kt={escapeFacetValue:Ii,unescapeFacetValue:Di};function ki(t){return typeof t=="object"&&t!==null?Jt(Array.isArray(t)?[]:{},t):t}function Ye(t){return typeof t=="function"||Array.isArray(t)||Object.prototype.toString.call(t)==="[object Object]"}function Jt(t,e){if(t===e)return t;for(var r in e)if(!(!Object.prototype.hasOwnProperty.call(e,r)||r==="__proto__"||r==="constructor")){var n=e[r],i=t[r];typeof i<"u"&&typeof n>"u"||(Ye(i)&&Ye(n)?t[r]=Jt(i,n):t[r]=ki(n))}return t}function Ui(t){Ye(t)||(t={});for(var e=1,r=arguments.length;e<r;e++){var n=arguments[e];Ye(n)&&Jt(t,n)}return t}var rt=Ui;function Li(t){return t&&Object.keys(t).length>0}var Gt=Li;function Qi(t,e){if(t===null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var Xt=Qi;function Te(t){t=t||{},this.params=t.params||[]}Te.prototype={constructor:Te,addParams:function(t){var e=this.params.slice();return e.push(t),new Te({params:e})},removeParams:function(t){return new Te({params:this.params.filter(function(e){return e.$$id!==t})})},addFrequentlyBoughtTogether:function(t){return this.addParams(Object.assign({},t,{model:"bought-together"}))},addRelatedProducts:function(t){return this.addParams(Object.assign({},t,{model:"related-products"}))},addTrendingItems:function(t){return this.addParams(Object.assign({},t,{model:"trending-items"}))},addTrendingFacets:function(t){return this.addParams(Object.assign({},t,{model:"trending-facets"}))},addLookingSimilar:function(t){return this.addParams(Object.assign({},t,{model:"looking-similar"}))},_buildQueries:function(t,e){return this.params.filter(function(r){return e[r.$$id]===void 0}).map(function(r){var n=Object.assign({},r,{indexName:t,threshold:r.threshold||0});return delete n.$$id,n})}};var tn=Te;function Tt(t,e){this._state=t,this._rawResults={};var r=this;t.params.forEach(function(n){var i=n.$$id;r[i]=e[i],r._rawResults[i]=e[i]})}Tt.prototype={constructor:Tt};var rn=Tt,gt=rt;function vt(t){return Object.keys(t).sort().reduce(function(e,r){return e[r]=t[r],e},{})}var V={_getQueries:function(e,r){var n=[];return n.push({indexName:e,params:V._getHitsSearchParams(r)}),r.getRefinedDisjunctiveFacets().forEach(function(i){n.push({indexName:e,params:V._getDisjunctiveFacetSearchParams(r,i)})}),r.getRefinedHierarchicalFacets().forEach(function(i){var a=r.getHierarchicalFacetByName(i),s=r.getHierarchicalRefinement(i),o=r._getHierarchicalFacetSeparator(a);if(s.length>0&&s[0].split(o).length>1){var u=s[0].split(o).slice(0,-1).reduce(function(f,l,d){return f.concat({attribute:a.attributes[d],value:d===0?l:[f[f.length-1].value,l].join(o)})},[]);u.forEach(function(c,f){var l=V._getDisjunctiveFacetSearchParams(r,c.attribute,f===0);function d(h){return a.attributes.some(function(v){return v===h.split(":")[0]})}var m=(l.facetFilters||[]).reduce(function(h,v){if(Array.isArray(v)){var b=v.filter(function(y){return!d(y)});b.length>0&&h.push(b)}return typeof v=="string"&&!d(v)&&h.push(v),h},[]),g=u[f-1];f>0?l.facetFilters=m.concat(g.attribute+":"+g.value):m.length>0?l.facetFilters=m:delete l.facetFilters,n.push({indexName:e,params:l})})}}),n},_getHitsSearchParams:function(t){var e=t.facets.concat(t.disjunctiveFacets).concat(V._getHitsHierarchicalFacetsAttributes(t)).sort(),r=V._getFacetFilters(t),n=V._getNumericFilters(t),i=V._getTagFilters(t),a={};return e.length>0&&(a.facets=e.indexOf("*")>-1?["*"]:e),i.length>0&&(a.tagFilters=i),r.length>0&&(a.facetFilters=r),n.length>0&&(a.numericFilters=n),vt(gt({},t.getQueryParams(),a))},_getDisjunctiveFacetSearchParams:function(t,e,r){var n=V._getFacetFilters(t,e,r),i=V._getNumericFilters(t,e),a=V._getTagFilters(t),s={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};a.length>0&&(s.tagFilters=a);var o=t.getHierarchicalFacetByName(e);return o?s.facets=V._getDisjunctiveHierarchicalFacetAttribute(t,o,r):s.facets=e,i.length>0&&(s.numericFilters=i),n.length>0&&(s.facetFilters=n),vt(gt({},t.getQueryParams(),s))},_getNumericFilters:function(t,e){if(t.numericFilters)return t.numericFilters;var r=[];return Object.keys(t.numericRefinements).forEach(function(n){var i=t.numericRefinements[n]||{};Object.keys(i).forEach(function(a){var s=i[a]||[];e!==n&&s.forEach(function(o){if(Array.isArray(o)){var u=o.map(function(c){return n+a+c});r.push(u)}else r.push(n+a+o)})})}),r},_getTagFilters:function(t){return t.tagFilters?t.tagFilters:t.tagRefinements.join(",")},_getFacetFilters:function(t,e,r){var n=[],i=t.facetsRefinements||{};Object.keys(i).sort().forEach(function(u){var c=i[u]||[];c.slice().sort().forEach(function(f){n.push(u+":"+f)})});var a=t.facetsExcludes||{};Object.keys(a).sort().forEach(function(u){var c=a[u]||[];c.sort().forEach(function(f){n.push(u+":-"+f)})});var s=t.disjunctiveFacetsRefinements||{};Object.keys(s).sort().forEach(function(u){var c=s[u]||[];if(!(u===e||!c||c.length===0)){var f=[];c.slice().sort().forEach(function(l){f.push(u+":"+l)}),n.push(f)}});var o=t.hierarchicalFacetsRefinements||{};return Object.keys(o).sort().forEach(function(u){var c=o[u]||[],f=c[0];if(f!==void 0){var l=t.getHierarchicalFacetByName(u),d=t._getHierarchicalFacetSeparator(l),m=t._getHierarchicalRootPath(l),g,h;if(e===u){if(f.indexOf(d)===-1||!m&&r===!0||m&&m.split(d).length===f.split(d).length)return;m?(h=m.split(d).length-1,f=m):(h=f.split(d).length-2,f=f.slice(0,f.lastIndexOf(d))),g=l.attributes[h]}else h=f.split(d).length-1,g=l.attributes[h];g&&n.push([g+":"+f])}}),n},_getHitsHierarchicalFacetsAttributes:function(t){var e=[];return t.hierarchicalFacets.reduce(function(n,i){var a=t.getHierarchicalRefinement(i.name)[0];if(!a)return n.push(i.attributes[0]),n;var s=t._getHierarchicalFacetSeparator(i),o=a.split(s).length,u=i.attributes.slice(0,o+1);return n.concat(u)},e)},_getDisjunctiveHierarchicalFacetAttribute:function(t,e,r){var n=t._getHierarchicalFacetSeparator(e);if(r===!0){var i=t._getHierarchicalRootPath(e),a=0;return i&&(a=i.split(n).length),[e.attributes[a]]}var s=t.getHierarchicalRefinement(e.name)[0]||"",o=s.split(n).length-1;return e.attributes.slice(0,o+1)},getSearchForFacetQuery:function(t,e,r,n){var i=n.isDisjunctiveFacet(t)?n.clearRefinements(t):n,a={facetQuery:e,facetName:t};return typeof r=="number"&&(a.maxFacetHits=r),vt(gt({},V._getHitsSearchParams(i),a))}},Wi=V,Yt=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(r,n){return Object.keys(Object(n)).forEach(function(i){n[i]!==void 0&&(r[i]!==void 0&&delete r[i],r[i]=n[i])}),r},{})},Ve=function(e,r){if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(r(e[n]))return e[n]}};function Mi(t,e){return t.filter(function(r,n){return e.indexOf(r)>-1&&t.indexOf(r)===n})}var Bi=Mi;function nn(t){if(typeof t=="number")return t;if(typeof t=="string")return parseFloat(t);if(Array.isArray(t))return t.map(nn);throw new Error("The value should be a number, a parsable string or an array of those.")}var qi=nn,Vi=function(e){return e===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(e)},zi=Yt,Ki=Gt,Ji=Xt,de={addRefinement:function(e,r,n){if(de.isRefined(e,r,n))return e;var i=""+n,a=e[r]?e[r].concat(i):[i],s={};return s[r]=a,zi({},s,e)},removeRefinement:function(e,r,n){if(n===void 0)return de.clearRefinement(e,function(a,s){return r===s});var i=""+n;return de.clearRefinement(e,function(a,s){return r===s&&i===a})},toggleRefinement:function(e,r,n){if(n===void 0)throw new Error("toggleRefinement should be used with a value");return de.isRefined(e,r,n)?de.removeRefinement(e,r,n):de.addRefinement(e,r,n)},clearRefinement:function(e,r,n){if(r===void 0)return Ki(e)?{}:e;if(typeof r=="string")return Ji(e,[r]);if(typeof r=="function"){var i=!1,a=Object.keys(e).reduce(function(s,o){var u=e[o]||[],c=u.filter(function(f){return!r(f,o,n)});return c.length!==u.length&&(i=!0),s[o]=c,s},{});return i?a:e}},isRefined:function(e,r,n){var i=!!e[r]&&e[r].length>0;if(n===void 0||!i)return i;var a=""+n;return e[r].indexOf(a)!==-1}},Gi=de,pt=Yt,an=Ve,hr=Bi,$t=rt,At=Gt,dr=Xt,yt=qi,Xi=Vi,C=Gi;function Zt(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every(function(r,n){return Zt(e[n],r)}):t===e}function Yi(t,e){return an(t,function(r){return Zt(r,e)})}function B(t){var e=t?B._parseNumbers(t):{};e.userToken!==void 0&&!Xi(e.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=e.facets||[],this.disjunctiveFacets=e.disjunctiveFacets||[],this.hierarchicalFacets=e.hierarchicalFacets||[],this.facetsRefinements=e.facetsRefinements||{},this.facetsExcludes=e.facetsExcludes||{},this.disjunctiveFacetsRefinements=e.disjunctiveFacetsRefinements||{},this.numericRefinements=e.numericRefinements||{},this.tagRefinements=e.tagRefinements||[],this.hierarchicalFacetsRefinements=e.hierarchicalFacetsRefinements||{};var r=this;Object.keys(e).forEach(function(n){var i=B.PARAMETERS.indexOf(n)!==-1,a=e[n]!==void 0;!i&&a&&(r[n]=e[n])})}B.PARAMETERS=Object.keys(new B);B._parseNumbers=function(t){if(t instanceof B)return t;var e={},r=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(r.forEach(function(i){var a=t[i];if(typeof a=="string"){var s=parseFloat(a);e[i]=isNaN(s)?a:s}}),Array.isArray(t.insideBoundingBox)&&(e.insideBoundingBox=t.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(a){return parseFloat(a)}):i})),t.numericRefinements){var n={};Object.keys(t.numericRefinements).forEach(function(i){var a=t.numericRefinements[i]||{};n[i]={},Object.keys(a).forEach(function(s){var o=a[s],u=o.map(function(c){return Array.isArray(c)?c.map(function(f){return typeof f=="string"?parseFloat(f):f}):typeof c=="string"?parseFloat(c):c});n[i][s]=u})}),e.numericRefinements=n}return $t(t,e)};B.make=function(e){var r=new B(e),n=e.hierarchicalFacets||[];return n.forEach(function(i){if(i.rootPath){var a=r.getHierarchicalRefinement(i.name);a.length>0&&a[0].indexOf(i.rootPath)!==0&&(r=r.clearRefinements(i.name)),a=r.getHierarchicalRefinement(i.name),a.length===0&&(r=r.toggleHierarchicalFacetRefinement(i.name,i.rootPath))}}),r};B.validate=function(t,e){var r=e||{};return t.tagFilters&&r.tagRefinements&&r.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):t.tagRefinements.length>0&&r.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):t.numericFilters&&r.numericRefinements&&At(r.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):At(t.numericRefinements)&&r.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null};B.prototype={constructor:B,clearRefinements:function(e){var r={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:C.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:C.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:C.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:C.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return r.numericRefinements===this.numericRefinements&&r.facetsRefinements===this.facetsRefinements&&r.facetsExcludes===this.facetsExcludes&&r.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&r.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(r)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(t,e,r){var n=yt(r);if(this.isNumericRefined(t,e,n))return this;var i=$t({},this.numericRefinements);return i[t]=$t({},i[t]),i[t][e]?(i[t][e]=i[t][e].slice(),i[t][e].push(n)):i[t][e]=[n],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(t){return this.isConjunctiveFacet(t)?this.facetsRefinements[t]||[]:[]},getDisjunctiveRefinements:function(t){return this.isDisjunctiveFacet(t)?this.disjunctiveFacetsRefinements[t]||[]:[]},getHierarchicalRefinement:function(t){return this.hierarchicalFacetsRefinements[t]||[]},getExcludeRefinements:function(t){return this.isConjunctiveFacet(t)?this.facetsExcludes[t]||[]:[]},removeNumericRefinement:function(t,e,r){var n=r;return n!==void 0?this.isNumericRefined(t,e,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,a){return a===t&&i.op===e&&Zt(i.val,yt(n))})}):this:e!==void 0?this.isNumericRefined(t,e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,a){return a===t&&i.op===e})}):this:this.isNumericRefined(t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,a){return a===t})}):this},getNumericRefinements:function(t){return this.numericRefinements[t]||{}},getNumericRefinement:function(t,e){return this.numericRefinements[t]&&this.numericRefinements[t][e]},_clearNumericRefinements:function(e){if(e===void 0)return At(this.numericRefinements)?{}:this.numericRefinements;if(typeof e=="string")return dr(this.numericRefinements,[e]);if(typeof e=="function"){var r=!1,n=this.numericRefinements,i=Object.keys(n).reduce(function(a,s){var o=n[s],u={};return o=o||{},Object.keys(o).forEach(function(c){var f=o[c]||[],l=[];f.forEach(function(d){var m=e({val:d,op:c},s,"numeric");m||l.push(d)}),l.length!==f.length&&(r=!0),u[c]=l}),a[s]=u,a},{});return r?i:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,r){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return C.isRefined(this.facetsRefinements,e,r)?this:this.setQueryParameters({facetsRefinements:C.addRefinement(this.facetsRefinements,e,r)})},addExcludeRefinement:function(e,r){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return C.isRefined(this.facetsExcludes,e,r)?this:this.setQueryParameters({facetsExcludes:C.addRefinement(this.facetsExcludes,e,r)})},addDisjunctiveFacetRefinement:function(e,r){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return C.isRefined(this.disjunctiveFacetsRefinements,e,r)?this:this.setQueryParameters({disjunctiveFacetsRefinements:C.addRefinement(this.disjunctiveFacetsRefinements,e,r)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var r={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(r)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter(function(r){return r!==e})}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(r){return r!==e})}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(r){return r.name!==e})}):this},removeFacetRefinement:function(e,r){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return C.isRefined(this.facetsRefinements,e,r)?this.setQueryParameters({facetsRefinements:C.removeRefinement(this.facetsRefinements,e,r)}):this},removeExcludeRefinement:function(e,r){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return C.isRefined(this.facetsExcludes,e,r)?this.setQueryParameters({facetsExcludes:C.removeRefinement(this.facetsExcludes,e,r)}):this},removeDisjunctiveFacetRefinement:function(e,r){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return C.isRefined(this.disjunctiveFacetsRefinements,e,r)?this.setQueryParameters({disjunctiveFacetsRefinements:C.removeRefinement(this.disjunctiveFacetsRefinements,e,r)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var r={tagRefinements:this.tagRefinements.filter(function(n){return n!==e})};return this.setQueryParameters(r)},toggleRefinement:function(e,r){return this.toggleFacetRefinement(e,r)},toggleFacetRefinement:function(e,r){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,r);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,r);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,r);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,r){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:C.toggleRefinement(this.facetsRefinements,e,r)})},toggleExcludeFacetRefinement:function(e,r){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:C.toggleRefinement(this.facetsExcludes,e,r)})},toggleDisjunctiveFacetRefinement:function(e,r){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:C.toggleRefinement(this.disjunctiveFacetsRefinements,e,r)})},toggleHierarchicalFacetRefinement:function(e,r){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),i={},a=this.hierarchicalFacetsRefinements[e]!==void 0&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===r||this.hierarchicalFacetsRefinements[e][0].indexOf(r+n)===0);return a?r.indexOf(n)===-1?i[e]=[]:i[e]=[r.slice(0,r.lastIndexOf(n))]:i[e]=[r],this.setQueryParameters({hierarchicalFacetsRefinements:pt({},i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(t,e){if(this.isHierarchicalFacetRefined(t))throw new Error(t+" is already refined.");if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var r={};return r[t]=[e],this.setQueryParameters({hierarchicalFacetsRefinements:pt({},r,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(t){if(!this.isHierarchicalFacetRefined(t))return this;var e={};return e[t]=[],this.setQueryParameters({hierarchicalFacetsRefinements:pt({},e,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(t){return this.disjunctiveFacets.indexOf(t)>-1},isHierarchicalFacet:function(t){return this.getHierarchicalFacetByName(t)!==void 0},isConjunctiveFacet:function(t){return this.facets.indexOf(t)>-1},isFacetRefined:function(e,r){return this.isConjunctiveFacet(e)?C.isRefined(this.facetsRefinements,e,r):!1},isExcludeRefined:function(e,r){return this.isConjunctiveFacet(e)?C.isRefined(this.facetsExcludes,e,r):!1},isDisjunctiveFacetRefined:function(e,r){return this.isDisjunctiveFacet(e)?C.isRefined(this.disjunctiveFacetsRefinements,e,r):!1},isHierarchicalFacetRefined:function(e,r){if(!this.isHierarchicalFacet(e))return!1;var n=this.getHierarchicalRefinement(e);return r?n.indexOf(r)!==-1:n.length>0},isNumericRefined:function(e,r,n){if(n===void 0&&r===void 0)return!!this.numericRefinements[e];var i=this.numericRefinements[e]&&this.numericRefinements[e][r]!==void 0;if(n===void 0||!i)return i;var a=yt(n),s=Yi(this.numericRefinements[e][r],a)!==void 0;return i&&s},isTagRefined:function(e){return this.tagRefinements.indexOf(e)!==-1},getRefinedDisjunctiveFacets:function(){var e=this,r=hr(Object.keys(this.numericRefinements).filter(function(n){return Object.keys(e.numericRefinements[n]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(n){return e.disjunctiveFacetsRefinements[n].length>0}).concat(r).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var e=this;return hr(this.hierarchicalFacets.map(function(r){return r.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(r){return e.hierarchicalFacetsRefinements[r].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var t=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(e){return t.indexOf(e)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,r={},n=this;return Object.keys(this).forEach(function(i){var a=n[i];e.indexOf(i)===-1&&a!==void 0&&(r[i]=a)}),r},setQueryParameter:function(e,r){if(this[e]===r)return this;var n={};return n[e]=r,this.setQueryParameters(n)},setQueryParameters:function(e){if(!e)return this;var r=B.validate(this,e);if(r)throw r;var n=this,i=B._parseNumbers(e),a=Object.keys(this).reduce(function(o,u){return o[u]=n[u],o},{}),s=Object.keys(i).reduce(function(o,u){var c=o[u]!==void 0,f=i[u]!==void 0;return c&&!f?dr(o,[u]):(f&&(o[u]=i[u]),o)},a);return new this.constructor(s)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(t){return t.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(t){return t.separator||" > "},_getHierarchicalRootPath:function(t){return t.rootPath||null},_getHierarchicalShowParentLevel:function(t){return typeof t.showParentLevel=="boolean"?t.showParentLevel:!0},getHierarchicalFacetByName:function(t){return an(this.hierarchicalFacets,function(e){return e.name===t})},getHierarchicalFacetBreadcrumb:function(t){if(!this.isHierarchicalFacet(t))return[];var e=this.getHierarchicalRefinement(t)[0];if(!e)return[];var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),n=e.split(r);return n.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var sn=B,Zi=function(e){return Array.isArray(e)?e.filter(Boolean):[]},ea=function(e,r){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(r(e[n]))return n;return-1},ta=Ve,on=function(e,r){var n=(r||[]).map(function(i){return i.split(":")});return e.reduce(function(a,s){var o=s.split(":"),u=ta(n,function(c){return c[0]===o[0]});return o.length>1||!u?(a[0].push(o[0]),a[1].push(o[1]),a):(a[0].push(u[0]),a[1].push(u[1]),a)},[[],[]])};function ra(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=e!==void 0,a=e===null;if(!a&&t>e||n&&i||!r)return 1;if(!n&&t<e||a&&r||!i)return-1}return 0}function na(t,e,r){if(!Array.isArray(t))return[];Array.isArray(r)||(r=[]);var n=t.map(function(i,a){return{criteria:e.map(function(s){return i[s]}),index:a,value:i}});return n.sort(function(a,s){for(var o=-1;++o<a.criteria.length;){var u=ra(a.criteria[o],s.criteria[o]);if(u)return o>=r.length?u:r[o]==="desc"?-u:u}return a.index-s.index}),n.map(function(i){return i.value})}var cn=na,ia=fa,un=Kt,aa=Ve,sa=on,oa=cn,ca=un.escapeFacetValue,ua=un.unescapeFacetValue;function fa(t){return function(r,n){var i=t.hierarchicalFacets[n],a=t.hierarchicalFacetsRefinements[i.name]&&t.hierarchicalFacetsRefinements[i.name][0]||"",s=t._getHierarchicalFacetSeparator(i),o=t._getHierarchicalRootPath(i),u=t._getHierarchicalShowParentLevel(i),c=sa(t._getHierarchicalFacetSortBy(i)),f=r.every(function(m){return m.exhaustive}),l=la(c,s,o,u,a),d=r;return o&&(d=r.slice(o.split(s).length)),d.reduce(l,{name:t.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:f,data:null})}}function la(t,e,r,n,i){return function(s,o,u){var c=s;if(u>0){var f=0;for(c=s;f<u;){var l=c&&Array.isArray(c.data)?c.data:[];c=aa(l,function(m){return m.isRefined}),f++}}if(c){var d=Object.keys(o.data).map(function(m){return[m,o.data[m]]}).filter(function(m){var g=m[0];return ha(g,c.path||r,i,e,r,n)});c.data=oa(d.map(function(m){var g=m[0],h=m[1];return da(h,g,e,ua(i),o.exhaustive)}),t[0],t[1])}return s}}function ha(t,e,r,n,i,a){return i&&(t.indexOf(i)!==0||i===t)?!1:!i&&t.indexOf(n)===-1||i&&t.split(n).length-i.split(n).length===1||t.indexOf(n)===-1&&r.indexOf(n)===-1||r.indexOf(t)===0||t.indexOf(e+n)===0&&(a||t.indexOf(r)===0)}function da(t,e,r,n,i){var a=e.split(r);return{name:a[a.length-1].trim(),path:e,escapedValue:ca(e),count:t,isRefined:n===e||n.indexOf(e+r)===0,exhaustive:i,data:null}}var bt=Zi,Ze=Yt,fn=Kt,G=Ve,Pe=ea,ma=on,mr=rt,ln=cn,gr=fn.escapeFacetValue,hn=fn.unescapeFacetValue,ga=ia;function vr(t){var e={};return t.forEach(function(r,n){e[r]=n}),e}function Rt(t,e,r){e&&e[r]&&(t.stats=e[r])}function va(t,e){return G(t,function(n){var i=n.attributes||[];return i.indexOf(e)>-1})}function le(t,e,r){var n=e[0]||{};this._rawResults=e;var i=this;Object.keys(n).forEach(function(l){i[l]=n[l]});var a=mr({persistHierarchicalRootCount:!1},r);Object.keys(a).forEach(function(l){i[l]=a[l]}),this.processingTimeMS=e.reduce(function(l,d){return d.processingTimeMS===void 0?l:l+d.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=t.hierarchicalFacets.map(function(){return[]}),this.facets=[];var s=t.getRefinedDisjunctiveFacets(),o=vr(t.facets),u=vr(t.disjunctiveFacets),c=1,f=n.facets||{};Object.keys(f).forEach(function(l){var d=f[l],m=va(t.hierarchicalFacets,l);if(m){var g=m.attributes.indexOf(l),h=Pe(t.hierarchicalFacets,function(x){return x.name===m.name});i.hierarchicalFacets[h][g]={attribute:l,data:d,exhaustive:n.exhaustiveFacetsCount}}else{var v=t.disjunctiveFacets.indexOf(l)!==-1,b=t.facets.indexOf(l)!==-1,y;v&&(y=u[l],i.disjunctiveFacets[y]={name:l,data:d,exhaustive:n.exhaustiveFacetsCount},Rt(i.disjunctiveFacets[y],n.facets_stats,l)),b&&(y=o[l],i.facets[y]={name:l,data:d,exhaustive:n.exhaustiveFacetsCount},Rt(i.facets[y],n.facets_stats,l))}}),this.hierarchicalFacets=bt(this.hierarchicalFacets),s.forEach(function(l){var d=e[c],m=d&&d.facets?d.facets:{},g=t.getHierarchicalFacetByName(l);Object.keys(m).forEach(function(h){var v=m[h],b;if(g){b=Pe(t.hierarchicalFacets,function(S){return S.name===g.name});var y=Pe(i.hierarchicalFacets[b],function(S){return S.attribute===h});if(y===-1)return;i.hierarchicalFacets[b][y].data=mr({},i.hierarchicalFacets[b][y].data,v)}else{b=u[h];var x=n.facets&&n.facets[h]||{};i.disjunctiveFacets[b]={name:h,data:Ze({},v,x),exhaustive:d.exhaustiveFacetsCount},Rt(i.disjunctiveFacets[b],d.facets_stats,h),t.disjunctiveFacetsRefinements[h]&&t.disjunctiveFacetsRefinements[h].forEach(function(S){!i.disjunctiveFacets[b].data[S]&&t.disjunctiveFacetsRefinements[h].indexOf(hn(S))>-1&&(i.disjunctiveFacets[b].data[S]=0)})}}),c++}),t.getRefinedHierarchicalFacets().forEach(function(l){var d=t.getHierarchicalFacetByName(l),m=t._getHierarchicalFacetSeparator(d),g=t.getHierarchicalRefinement(l);g.length===0||g[0].split(m).length<2||e.slice(c).forEach(function(h){var v=h&&h.facets?h.facets:{};Object.keys(v).forEach(function(b){var y=v[b],x=Pe(t.hierarchicalFacets,function(T){return T.name===d.name}),S=Pe(i.hierarchicalFacets[x],function(T){return T.attribute===b});if(S!==-1){var P={};if(g.length>0&&!i.persistHierarchicalRootCount){var A=g[0].split(m)[0];P[A]=i.hierarchicalFacets[x][S].data[A]}i.hierarchicalFacets[x][S].data=Ze(P,y,i.hierarchicalFacets[x][S].data)}}),c++})}),Object.keys(t.facetsExcludes).forEach(function(l){var d=t.facetsExcludes[l],m=o[l];i.facets[m]={name:l,data:f[l],exhaustive:n.exhaustiveFacetsCount},d.forEach(function(g){i.facets[m]=i.facets[m]||{name:l},i.facets[m].data=i.facets[m].data||{},i.facets[m].data[g]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(ga(t)),this.facets=bt(this.facets),this.disjunctiveFacets=bt(this.disjunctiveFacets),this._state=t}le.prototype.getFacetByName=function(t){function e(r){return r.name===t}return G(this.facets,e)||G(this.disjunctiveFacets,e)||G(this.hierarchicalFacets,e)};function pa(t,e){function r(f){return f.name===e}if(t._state.isConjunctiveFacet(e)){var n=G(t.facets,r);return n?Object.keys(n.data).map(function(f){var l=gr(f);return{name:f,escapedValue:l,count:n.data[f],isRefined:t._state.isFacetRefined(e,l),isExcluded:t._state.isExcludeRefined(e,f)}}):[]}else if(t._state.isDisjunctiveFacet(e)){var i=G(t.disjunctiveFacets,r);return i?Object.keys(i.data).map(function(f){var l=gr(f);return{name:f,escapedValue:l,count:i.data[f],isRefined:t._state.isDisjunctiveFacetRefined(e,l)}}):[]}else if(t._state.isHierarchicalFacet(e)){var a=G(t.hierarchicalFacets,r);if(!a)return a;var s=t._state.getHierarchicalFacetByName(e),o=t._state._getHierarchicalFacetSeparator(s),u=hn(t._state.getHierarchicalRefinement(e)[0]||"");u.indexOf(s.rootPath)===0&&(u=u.replace(s.rootPath+o,""));var c=u.split(o);return c.unshift(e),dn(a,c,0),a}}function dn(t,e,r){t.isRefined=t.name===(e[r]&&e[r].trim()),t.data&&t.data.forEach(function(n){dn(n,e,r+1)})}function mn(t,e,r,n){if(n=n||0,Array.isArray(e))return t(e,r[n]);if(!e.data||e.data.length===0)return e;var i=e.data.map(function(o){return mn(t,o,r,n+1)}),a=t(i,r[n]),s=Ze({data:a},e);return s}le.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function ya(t,e){return e.sort(t)}function ba(t,e){var r=[],n=[],i=e.hide||[],a=e.order||[],s=a.reduce(function(c,f,l){return c[f]=l,c},{});t.forEach(function(c){var f=c.path||c.name,l=i.indexOf(f)>-1;!l&&s[f]!==void 0?r[s[f]]=c:l||n.push(c)}),r=r.filter(function(c){return c});var o=e.sortRemainingBy,u;return o==="hidden"?r:(o==="alpha"?u=[["path","name"],["asc","asc"]]:u=[["count"],["desc"]],r.concat(ln(n,u[0],u[1])))}function Ra(t,e){return t.renderingContent&&t.renderingContent.facetOrdering&&t.renderingContent.facetOrdering.values&&t.renderingContent.facetOrdering.values[e]}le.prototype.getFacetValues=function(t,e){var r=pa(this,t);if(r){var n=Ze({},e,{sortBy:le.DEFAULT_SORT,facetOrdering:!(e&&e.sortBy)}),i=this,a;if(Array.isArray(r))a=[t];else{var s=i._state.getHierarchicalFacetByName(r.name);a=s.attributes}return mn(function(o,u){if(n.facetOrdering){var c=Ra(i,u);if(c)return ba(o,c)}if(Array.isArray(n.sortBy)){var f=ma(n.sortBy,le.DEFAULT_SORT);return ln(o,f[0],f[1])}else if(typeof n.sortBy=="function")return ya(n.sortBy,o);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},r,a)}};le.prototype.getFacetStats=function(t){if(this._state.isConjunctiveFacet(t))return pr(this.facets,t);if(this._state.isDisjunctiveFacet(t))return pr(this.disjunctiveFacets,t)};function pr(t,e){var r=G(t,function(n){return n.name===e});return r&&r.stats}le.prototype.getRefinements=function(){var t=this._state,e=this,r=[];return Object.keys(t.facetsRefinements).forEach(function(n){t.facetsRefinements[n].forEach(function(i){r.push(St(t,"facet",n,i,e.facets))})}),Object.keys(t.facetsExcludes).forEach(function(n){t.facetsExcludes[n].forEach(function(i){r.push(St(t,"exclude",n,i,e.facets))})}),Object.keys(t.disjunctiveFacetsRefinements).forEach(function(n){t.disjunctiveFacetsRefinements[n].forEach(function(i){r.push(St(t,"disjunctive",n,i,e.disjunctiveFacets))})}),Object.keys(t.hierarchicalFacetsRefinements).forEach(function(n){t.hierarchicalFacetsRefinements[n].forEach(function(i){r.push(Sa(t,n,i,e.hierarchicalFacets))})}),Object.keys(t.numericRefinements).forEach(function(n){var i=t.numericRefinements[n];Object.keys(i).forEach(function(a){i[a].forEach(function(s){r.push({type:"numeric",attributeName:n,name:s,numericValue:s,operator:a})})})}),t.tagRefinements.forEach(function(n){r.push({type:"tag",attributeName:"_tags",name:n})}),r};function St(t,e,r,n,i){var a=G(i,function(u){return u.name===r}),s=a&&a.data&&a.data[n]?a.data[n]:0,o=a&&a.exhaustive||!1;return{type:e,attributeName:r,name:n,count:s,exhaustive:o}}function Sa(t,e,r,n){var i=t.getHierarchicalFacetByName(e),a=t._getHierarchicalFacetSeparator(i),s=r.split(a),o=G(n,function(d){return d.name===e}),u=s.reduce(function(d,m){var g=d&&G(d.data,function(h){return h.name===m});return g!==void 0?g:d},o),c=u&&u.count||0,f=u&&u.exhaustive||!1,l=u&&u.path||"";return{type:"hierarchical",attributeName:e,name:l,count:c,exhaustive:f}}var gn=le,xa=function(e){return e.reduce(function(r,n){return r.concat(n)},[])},Pa=Ve,wa=xa;function Oa(t,e){var r=[];return Object.keys(t).forEach(function(n){t[n].count<2&&(t[n].indexSum+=100),r.push({objectID:n,avgOfIndices:t[n].indexSum/e})}),r.sort(function(n,i){return n.avgOfIndices>i.avgOfIndices?1:-1})}function _a(t){var e={};t.forEach(function(i){i.forEach(function(a,s){e[a.objectID]?e[a.objectID]={indexSum:e[a.objectID].indexSum+s,count:e[a.objectID].count+1}:e[a.objectID]={indexSum:s,count:1}})});var r=Oa(e,t.length),n=r.reduce(function(i,a){var s=Pa(wa(t),function(o){return o.objectID===a.objectID});return s?i.concat(s):i},[]);return n}var Fa=_a,vn="3.22.5",ja=zt,Ea=Hi,Ta=Kt.escapeFacetValue,$a=en,Aa=rt,Ca=Gt,Na=Xt,pn=tn,Ha=rn,be=Wi,er=sn,Ct=gn,Ia=Fa,yn=vn;function p(t,e,r,n){typeof t.addAlgoliaAgent=="function"&&t.addAlgoliaAgent("JS Helper ("+yn+")"),this.setClient(t);var i=r||{};i.index=e,this.state=er.make(i),this.recommendState=new pn({params:i.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=n,this._recommendCache={}}$a(p,ja);p.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this};p.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this};p.prototype.recommend=function(){return this._recommend(),this};p.prototype.getQuery=function(){var t=this.state;return be._getHitsSearchParams(t)};p.prototype.searchOnce=function(t,e){var r=t?this.state.setQueryParameters(t):this.state,n=be._getQueries(r.index,r),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:r}),e){this.client.search(n).then(function(a){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),e(null,new Ct(r,a.results),r)}).catch(function(a){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),e(a,null,r)});return}return this.client.search(n).then(function(a){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new Ct(r,a.results),state:r,_originalResponse:a}},function(a){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),a})};p.prototype.findAnswers=function(t){console.warn("[algoliasearch-helper] answers is no longer supported");var e=this.state,r=this.derivedHelpers[0];if(!r)return Promise.resolve([]);var n=r.getModifiedState(e),i=Aa({attributesForPrediction:t.attributesForPrediction,nbHits:t.nbHits},{params:Na(be._getHitsSearchParams(n),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),a="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(a);var s=this.client.initIndex(n.index);if(typeof s.findAnswers!="function")throw new Error(a);return s.findAnswers(n.query,t.queryLanguages,i)};p.prototype.searchForFacetValues=function(t,e,r,n){var i=typeof this.client.searchForFacetValues=="function"&&typeof this.client.searchForFacets!="function",a=typeof this.client.initIndex=="function";if(!i&&!a&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var s=this.state.setQueryParameters(n||{}),o=s.isDisjunctiveFacet(t),u=be.getSearchForFacetQuery(t,e,r,s);this._currentNbQueries++;var c=this,f;return i?f=this.client.searchForFacetValues([{indexName:s.index,params:u}]):a?f=this.client.initIndex(s.index).searchForFacetValues(u):(delete u.facetName,f=this.client.search([{type:"facet",facet:t,indexName:s.index,params:u}]).then(function(d){return d.results[0]})),this.emit("searchForFacetValues",{state:s,facet:t,query:e}),f.then(function(d){return c._currentNbQueries--,c._currentNbQueries===0&&c.emit("searchQueueEmpty"),d=Array.isArray(d)?d[0]:d,d.facetHits.forEach(function(m){m.escapedValue=Ta(m.value),m.isRefined=o?s.isDisjunctiveFacetRefined(t,m.escapedValue):s.isFacetRefined(t,m.escapedValue)}),d},function(l){throw c._currentNbQueries--,c._currentNbQueries===0&&c.emit("searchQueueEmpty"),l})};p.prototype.setQuery=function(t){return this._change({state:this.state.resetPage().setQuery(t),isPageReset:!0}),this};p.prototype.clearRefinements=function(t){return this._change({state:this.state.resetPage().clearRefinements(t),isPageReset:!0}),this};p.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this};p.prototype.addDisjunctiveFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(t,e),isPageReset:!0}),this};p.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)};p.prototype.addHierarchicalFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(t,e),isPageReset:!0}),this};p.prototype.addNumericRefinement=function(t,e,r){return this._change({state:this.state.resetPage().addNumericRefinement(t,e,r),isPageReset:!0}),this};p.prototype.addFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addFacetRefinement(t,e),isPageReset:!0}),this};p.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)};p.prototype.addFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().addExcludeRefinement(t,e),isPageReset:!0}),this};p.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)};p.prototype.addTag=function(t){return this._change({state:this.state.resetPage().addTagRefinement(t),isPageReset:!0}),this};p.prototype.addFrequentlyBoughtTogether=function(t){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(t)}),this};p.prototype.addRelatedProducts=function(t){return this._recommendChange({state:this.recommendState.addRelatedProducts(t)}),this};p.prototype.addTrendingItems=function(t){return this._recommendChange({state:this.recommendState.addTrendingItems(t)}),this};p.prototype.addTrendingFacets=function(t){return this._recommendChange({state:this.recommendState.addTrendingFacets(t)}),this};p.prototype.addLookingSimilar=function(t){return this._recommendChange({state:this.recommendState.addLookingSimilar(t)}),this};p.prototype.removeNumericRefinement=function(t,e,r){return this._change({state:this.state.resetPage().removeNumericRefinement(t,e,r),isPageReset:!0}),this};p.prototype.removeDisjunctiveFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(t,e),isPageReset:!0}),this};p.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)};p.prototype.removeHierarchicalFacetRefinement=function(t){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(t),isPageReset:!0}),this};p.prototype.removeFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().removeFacetRefinement(t,e),isPageReset:!0}),this};p.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)};p.prototype.removeFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().removeExcludeRefinement(t,e),isPageReset:!0}),this};p.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)};p.prototype.removeTag=function(t){return this._change({state:this.state.resetPage().removeTagRefinement(t),isPageReset:!0}),this};p.prototype.removeFrequentlyBoughtTogether=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};p.prototype.removeRelatedProducts=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};p.prototype.removeTrendingItems=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};p.prototype.removeTrendingFacets=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};p.prototype.removeLookingSimilar=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};p.prototype.toggleFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(t,e),isPageReset:!0}),this};p.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)};p.prototype.toggleRefinement=function(t,e){return this.toggleFacetRefinement(t,e)};p.prototype.toggleFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().toggleFacetRefinement(t,e),isPageReset:!0}),this};p.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)};p.prototype.toggleTag=function(t){return this._change({state:this.state.resetPage().toggleTagRefinement(t),isPageReset:!0}),this};p.prototype.nextPage=function(){var t=this.state.page||0;return this.setPage(t+1)};p.prototype.previousPage=function(){var t=this.state.page||0;return this.setPage(t-1)};function bn(t){if(t<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(t),isPageReset:!1}),this}p.prototype.setCurrentPage=bn;p.prototype.setPage=bn;p.prototype.setIndex=function(t){return this._change({state:this.state.resetPage().setIndex(t),isPageReset:!0}),this};p.prototype.setQueryParameter=function(t,e){return this._change({state:this.state.resetPage().setQueryParameter(t,e),isPageReset:!0}),this};p.prototype.setState=function(t){return this._change({state:er.make(t),isPageReset:!1}),this};p.prototype.overrideStateWithoutTriggeringChangeEvent=function(t){return this.state=new er(t),this};p.prototype.hasRefinements=function(t){return Ca(this.state.getNumericRefinements(t))?!0:this.state.isConjunctiveFacet(t)?this.state.isFacetRefined(t):this.state.isDisjunctiveFacet(t)?this.state.isDisjunctiveFacetRefined(t):this.state.isHierarchicalFacet(t)?this.state.isHierarchicalFacetRefined(t):!1};p.prototype.isExcluded=function(t,e){return this.state.isExcludeRefined(t,e)};p.prototype.isDisjunctiveRefined=function(t,e){return this.state.isDisjunctiveFacetRefined(t,e)};p.prototype.hasTag=function(t){return this.state.isTagRefined(t)};p.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)};p.prototype.getIndex=function(){return this.state.index};function Rn(){return this.state.page}p.prototype.getCurrentPage=Rn;p.prototype.getPage=Rn;p.prototype.getTags=function(){return this.state.tagRefinements};p.prototype.getRefinements=function(t){var e=[];if(this.state.isConjunctiveFacet(t)){var r=this.state.getConjunctiveRefinements(t);r.forEach(function(s){e.push({value:s,type:"conjunctive"})});var n=this.state.getExcludeRefinements(t);n.forEach(function(s){e.push({value:s,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(t)){var i=this.state.getDisjunctiveRefinements(t);i.forEach(function(s){e.push({value:s,type:"disjunctive"})})}var a=this.state.getNumericRefinements(t);return Object.keys(a).forEach(function(s){var o=a[s];e.push({value:o,operator:s,type:"numeric"})}),e};p.prototype.getNumericRefinement=function(t,e){return this.state.getNumericRefinement(t,e)};p.prototype.getHierarchicalFacetBreadcrumb=function(t){return this.state.getHierarchicalFacetBreadcrumb(t)};p.prototype._search=function(t){var e=this.state,r=[],n=[];t.onlyWithDerivedHelpers||(n=be._getQueries(e.index,e),r.push({state:e,queriesCount:n.length,helper:this}),this.emit("search",{state:e,results:this.lastResults}));var i=this.derivedHelpers.map(function(o){var u=o.getModifiedState(e),c=u.index?be._getQueries(u.index,u):[];return r.push({state:u,queriesCount:c.length,helper:o}),o.emit("search",{state:u,results:o.lastResults}),c}),a=Array.prototype.concat.apply(n,i),s=this._queryId++;if(this._currentNbQueries++,!a.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,r,s));try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,r,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(o){this.emit("error",{error:o})}};p.prototype._recommend=function(){var t=this.state,e=this.recommendState,r=this.getIndex(),n=[{state:e,index:r,helper:this}],i=e.params.map(function(c){return c.$$id});this.emit("fetch",{recommend:{state:e,results:this.lastRecommendResults}});var a=this._recommendCache,s=this.derivedHelpers.map(function(c){var f=c.getModifiedState(t).index;if(!f)return[];var l=c.getModifiedRecommendState(new pn);return n.push({state:l,index:f,helper:c}),i=Array.prototype.concat.apply(i,l.params.map(function(d){return d.$$id})),c.emit("fetch",{recommend:{state:l,results:c.lastRecommendResults}}),l._buildQueries(f,a)}),o=Array.prototype.concat.apply(this.recommendState._buildQueries(r,a),s);if(o.length!==0){if(o.length>0&&typeof this.client.getRecommendations>"u"){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var u=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(o).then(this._dispatchRecommendResponse.bind(this,u,n,i)).catch(this._dispatchRecommendError.bind(this,u))}catch(c){this.emit("error",{error:c})}}};p.prototype._dispatchAlgoliaResponse=function(t,e,r){var n=this;if(!(e<this._lastQueryIdReceived)){this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var i=r.results.slice();t.forEach(function(a){var s=a.state,o=a.queriesCount,u=a.helper,c=i.splice(0,o);if(!s.index){u.emit("result",{results:null,state:s});return}u.lastResults=new Ct(s,c,n._searchResultsOptions),u.emit("result",{results:u.lastResults,state:s})})}};p.prototype._dispatchRecommendResponse=function(t,e,r,n){if(!(t<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=t-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=t,this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty");var i=this._recommendCache,a={};r.filter(function(o){return i[o]===void 0}).forEach(function(o,u){a[o]||(a[o]=[]),a[o].push(u)}),Object.keys(a).forEach(function(o){var u=a[o],c=n.results[u[0]];if(u.length===1){i[o]=c;return}i[o]=Object.assign({},c,{hits:Ia(u.map(function(f){return n.results[f].hits}))})});var s={};r.forEach(function(o){s[o]=i[o]}),e.forEach(function(o){var u=o.state,c=o.helper;if(!o.index){c.emit("recommend:result",{results:null,state:u});return}c.lastRecommendResults=new Ha(u,s),c.emit("recommend:result",{recommend:{results:c.lastRecommendResults,state:u}})})}};p.prototype._dispatchAlgoliaError=function(t,e){t<this._lastQueryIdReceived||(this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this.emit("error",{error:e}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))};p.prototype._dispatchRecommendError=function(t,e){t<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=t-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=t,this.emit("error",{error:e}),this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty"))};p.prototype.containsRefinement=function(t,e,r,n){return t||e.length!==0||r.length!==0||n.length!==0};p.prototype._hasDisjunctiveRefinements=function(t){return this.state.disjunctiveRefinements[t]&&this.state.disjunctiveRefinements[t].length>0};p.prototype._change=function(t){var e=t.state,r=t.isPageReset;e!==this.state&&(this.state=e,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:r}))};p.prototype._recommendChange=function(t){var e=t.state;e!==this.recommendState&&(this.recommendState=e,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))};p.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this};p.prototype.setClient=function(t){return this.client===t?this:(typeof t.addAlgoliaAgent=="function"&&t.addAlgoliaAgent("JS Helper ("+yn+")"),this.client=t,this)};p.prototype.getClient=function(){return this.client};p.prototype.derive=function(t,e){var r=new Ea(this,t,e);return this.derivedHelpers.push(r),r};p.prototype.detachDerivedHelper=function(t){var e=this.derivedHelpers.indexOf(t);if(e===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(e,1)};p.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var Da=p,Sn=Da,ka=tn,Ua=rn,La=sn,Qa=gn;function ve(t,e,r,n){return new Sn(t,e,r,n)}ve.version=vn;ve.AlgoliaSearchHelper=Sn;ve.SearchParameters=La;ve.RecommendParameters=ka;ve.SearchResults=Qa;ve.RecommendResults=Ua;var Wa=ve;const K=qt(Wa);var Ma=0;function Ba(t){t.dependsOn==="recommend"&&(t.$$id=Ma++)}function ae(){}var qa={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xn=/&(amp|quot|lt|gt|#39);/g,Va=RegExp(xn.source);function za(t){return t&&Va.test(t)?t.replace(xn,function(e){return qa[e]}):t}var z={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function Pn(t){var e=z.highlightPreTag,r=z.highlightPostTag;return t.map(function(n){return n.isHighlighted?e+n.value+r:n.value}).join("")}function Ka(t){return btoa(encodeURIComponent(JSON.stringify(t)))}function J(t){return t.$$type==="ais.index"}function Nt(t,e){var r=t[e.getIndexId()]||{};e.getHelper().setState(e.getWidgetSearchParameters(e.getHelper().state,{uiState:r})),e.getWidgets().filter(J).forEach(function(n){return Nt(t,n)})}var Ja=Promise.resolve();function we(t){var e=null,r=!1,n=function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];e===null&&(e=Ja.then(function(){if(e=null,r){r=!1;return}t.apply(void 0,s)}))};return n.wait=function(){if(e===null)throw new Error("The deferred function should be called before calling `wait()`");return e},n.cancel=function(){e!==null&&(r=!0)},n}function Ga(t){var e=t.name,r=t.connector,n=r===void 0?!1:r;return["https://www.algolia.com/doc/api-reference/widgets/",e,"/js/",n?"#connector":""].join("")}function wn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e.map(function(i){return Ga(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(n)].filter(Boolean).join(`

`)}}function yr(t,e){for(var r,n=0;n<t.length;n++)if(r=t[n],e(r,n,t))return r}function Xa(t,e){if(!Array.isArray(t))return-1;for(var r=0;r<t.length;r++)if(e(t[r]))return r;return-1}function Ya(t){if(t.transporter){var e=t.transporter,r=e.headers||e.baseHeaders,n=e.queryParameters||e.baseQueryParameters,i="x-algolia-application-id",a="x-algolia-api-key",s=r[i]||n[i],o=r[a]||n[a];return[s,o]}else return[t.applicationID,t.apiKey]}function On(t){var e=z.highlightPostTag,r=z.highlightPreTag,n=t.split(r),i=n.shift(),a=i?[{value:i,isHighlighted:!1}]:[];return n.forEach(function(s){var o=s.split(e);a.push({value:o[0],isHighlighted:!0}),o[1]!==""&&a.push({value:o[1],isHighlighted:!1})}),a}var Za=new RegExp(/\w/i);function es(t,e){var r,n,i=t[e],a=((r=t[e+1])===null||r===void 0?void 0:r.isHighlighted)||!0,s=((n=t[e-1])===null||n===void 0?void 0:n.isHighlighted)||!0;return!Za.test(za(i.value))&&s===a?s:i.isHighlighted}function nt(t,e){var r=Array.isArray(e)?e:e.split(".");return r.reduce(function(n,i){return n&&n[i]},t)}function Ne(t){"@babel/helpers - typeof";return Ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(t)}function br(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?br(Object(r),!0).forEach(function(n){ts(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):br(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ts(t,e,r){return e=rs(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rs(t){var e=ns(t,"string");return Ne(e)==="symbol"?e:String(e)}function ns(t,e){if(Ne(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ne(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function is(t,e){var r=Object.keys(e).reduce(function(n,i){var a=e[i];return a.recommendResults?Rr(Rr({},n),a.recommendResults.results):n},{});t._recommendCache=r}function He(t){"@babel/helpers - typeof";return He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(t)}function as(t,e){return us(t)||cs(t,e)||os(t,e)||ss()}function ss(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function os(t,e){if(t){if(typeof t=="string")return Sr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sr(t,e)}}function Sr(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cs(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function us(t){if(Array.isArray(t))return t}function xr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xr(Object(r),!0).forEach(function(n){_n(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xr(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _n(t,e,r){return e=fs(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fs(t){var e=ls(t,"string");return He(e)==="symbol"?e:String(e)}function ls(t,e){if(He(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(He(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hs(t,e){if(e&&!((!("transporter"in t)||t._cacheHydrated)&&(!t._useCache||typeof t.addAlgoliaAgent!="function"))){var r=[Object.keys(e).reduce(function(s,o){var u=e[o],c=u.state,f=u.requestParams,l=u.results,d=l&&c?l.map(function(m,g){return Oe({indexName:c.index||m.index},f!=null&&f[g]||m.params?{params:Pr((f==null?void 0:f[g])||ds(m.params))}:{})}):[];return s.concat(d)},[])],n=Object.keys(e).reduce(function(s,o){var u=e[o].results;return u?s.concat(u):s},[]);if("transporter"in t&&!t._cacheHydrated){t._cacheHydrated=!0;var i=t.search.bind(t);t.search=function(s){for(var o=arguments.length,u=new Array(o>1?o-1:0),c=1;c<o;c++)u[c-1]=arguments[c];var f=s.map(function(l){return Oe(Oe({},l),{},{params:Pr(l.params)})});return t.transporter.responsesCache.get({method:"search",args:[f].concat(u)},function(){return i.apply(void 0,[s].concat(u))})},t.transporter.responsesCache.set({method:"search",args:r},{results:n})}if(!("transporter"in t)){var a="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:r}));t.cache=Oe(Oe({},t.cache),{},_n({},a,JSON.stringify({results:Object.keys(e).map(function(s){return e[s].results})})))}}}function ds(t){return t.split("&").reduce(function(e,r){var n=r.split("="),i=as(n,2),a=i[0],s=i[1];return e[a]=s?decodeURIComponent(s):"",e},{})}function Pr(t){var e=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},r=function(i){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];var u=0;return i.replace(/%s/g,function(){return encodeURIComponent(s[u++])})};return Object.keys(t).map(function(n){return r("%s=%s",n,e(t[n])?JSON.stringify(t[n]):t[n])}).join("&")}function wr(t){return t!==Object(t)}function Fn(t,e){if(t===e)return!0;if(wr(t)||wr(e)||typeof t=="function"||typeof e=="function")return t===e;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];if(!(i in e)||!Fn(t[i],e[i]))return!1}return!0}function ms(t){return t.filter(function(e,r,n){return n.indexOf(e)===r})}function Ie(t){"@babel/helpers - typeof";return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(t)}var gs=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function Or(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function re(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Or(Object(r),!0).forEach(function(n){vs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Or(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vs(t,e,r){return e=ps(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ps(t){var e=ys(t,"string");return Ie(e)==="symbol"?e:String(e)}function ys(t,e){if(Ie(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ie(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bs(t,e){if(t==null)return{};var r=Rs(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rs(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var Ss=function(e,r){r.facets,r.disjunctiveFacets,r.facetsRefinements,r.facetsExcludes,r.disjunctiveFacetsRefinements,r.numericRefinements,r.tagRefinements,r.hierarchicalFacets,r.hierarchicalFacetsRefinements,r.ruleContexts;var n=bs(r,gs);return e.setQueryParameters(n)},xs=function(e,r){return r.facets.reduce(function(n,i){return n.addFacet(i)},e)},Ps=function(e,r){return r.disjunctiveFacets.reduce(function(n,i){return n.addDisjunctiveFacet(i)},e)},ws=function(e,r){return e.setQueryParameters({hierarchicalFacets:r.hierarchicalFacets.reduce(function(n,i){var a=Xa(n,function(o){return o.name===i.name});if(a===-1)return n.concat(i);var s=n.slice();return s.splice(a,1,i),s},e.hierarchicalFacets)})},Os=function(e,r){return r.tagRefinements.reduce(function(n,i){return n.addTagRefinement(i)},e)},_s=function(e,r){return e.setQueryParameters({facetsRefinements:re(re({},e.facetsRefinements),r.facetsRefinements)})},Fs=function(e,r){return e.setQueryParameters({facetsExcludes:re(re({},e.facetsExcludes),r.facetsExcludes)})},js=function(e,r){return e.setQueryParameters({disjunctiveFacetsRefinements:re(re({},e.disjunctiveFacetsRefinements),r.disjunctiveFacetsRefinements)})},Es=function(e,r){return e.setQueryParameters({numericRefinements:re(re({},e.numericRefinements),r.numericRefinements)})},Ts=function(e,r){return e.setQueryParameters({hierarchicalFacetsRefinements:re(re({},e.hierarchicalFacetsRefinements),r.hierarchicalFacetsRefinements)})},$s=function(e,r){var n=ms([].concat(e.ruleContexts).concat(r.ruleContexts).filter(Boolean));return n.length>0?e.setQueryParameters({ruleContexts:n}):e},As=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.reduce(function(i,a){var s=Ts(i,a),o=ws(s,a),u=Os(o,a),c=Es(u,a),f=js(c,a),l=Fs(f,a),d=_s(l,a),m=Ps(d,a),g=$s(m,a),h=xs(g,a);return Ss(h,a)})};function $e(t,e,r){var n=e.getHelper();return{uiState:r,helper:n,parent:e,instantSearchInstance:t,state:n.state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,scopedResults:[],searchMetadata:{isSearchStalled:t.status==="stalled"},status:t.status,error:t.error}}function _r(t,e,r){var n=e.getResultsForWidget(r),i=e.getHelper();return{helper:i,parent:e,instantSearchInstance:t,results:n,scopedResults:e.getScopedResults(),state:n&&"_state"in n?n._state:i.state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,searchMetadata:{isSearchStalled:t.status==="stalled"},status:t.status,error:t.error}}function Cs(t){for(var e=t.getParent(),r=[t.getHelper().state];e!==null;)r=[e.getHelper().state].concat(r),e=e.getParent();return r}function De(t){"@babel/helpers - typeof";return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(t)}function Fr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Je(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fr(Object(r),!0).forEach(function(n){Ns(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fr(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ns(t,e,r){return e=Hs(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hs(t){var e=Is(t,"string");return De(e)==="symbol"?e:String(e)}function Is(t,e){if(De(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(De(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jn(t){return t.some(function(e){return e.isHighlighted})?t.map(function(e,r){return Je(Je({},e),{},{isHighlighted:!es(t,r)})}):t.map(function(e){return Je(Je({},e),{},{isHighlighted:!1})})}function fe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},r=e.fallback;return typeof window>"u"?r():t({window})}function Ht(t){"@babel/helpers - typeof";return Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(t)}var jr=Object.prototype.hasOwnProperty;function It(t,e,r){var n,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&It(t[i],e[i]););return i===-1}if(!n||Ht(t)==="object"){i=0;for(n in t)if(jr.call(t,n)&&++i&&!jr.call(e,n)||!(n in e)||!It(t[n],e[n]))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}var Ds=H.createContext(null),ks=H.createContext(null),Us=H.createContext(null);function Ls(){return H.useContext(Us)}var Qs=H.createContext(null);function Ws(){return H.useContext(Qs)}var Ms=H.createContext(null);function Bs(){return H.useContext(Ms)}function ke(t){"@babel/helpers - typeof";return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(t)}var qs=["initialSearchParameters"],Vs=["initialRecommendParameters"];function Er(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function te(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Er(Object(r),!0).forEach(function(n){ye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Er(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ye(t,e,r){return e=zs(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zs(t){var e=Ks(t,"string");return ke(e)==="symbol"?e:String(e)}function Ks(t,e){if(ke(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ke(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function En(t){return Ys(t)||Xs(t)||Gs(t)||Js()}function Js(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gs(t,e){if(t){if(typeof t=="string")return Dt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dt(t,e)}}function Xs(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ys(t){if(Array.isArray(t))return Dt(t)}function Dt(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tn(t,e){if(t==null)return{};var r=Zs(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zs(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var _e=wn({name:"index-widget"});function $n(t,e){var r=e.state,n=e.recommendState,i=e.isPageReset,a=e._uiState;r!==t.state&&(t.state=r,t.emit("change",{state:t.state,results:t.lastResults,isPageReset:i,_uiState:a})),n!==t.recommendState&&(t.recommendState=n)}function Fe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.reduce(function(n,i){return J(i)||!i.getWidgetUiState&&!i.getWidgetState?n:i.getWidgetUiState?i.getWidgetUiState(n,e):i.getWidgetState(n,e)},r)}function je(t,e){var r=e.initialSearchParameters,n=Tn(e,qs);return t.reduce(function(i,a){return!a.getWidgetSearchParameters||J(a)?i:a.dependsOn==="search"&&a.getWidgetParameters?a.getWidgetParameters(i,n):a.getWidgetSearchParameters(i,n)},r)}function Tr(t,e){var r=e.initialRecommendParameters,n=Tn(e,Vs);return t.reduce(function(i,a){return!J(a)&&a.dependsOn==="recommend"&&a.getWidgetParameters?a.getWidgetParameters(i,n):i},r)}function An(t){var e=t.filter(J);e.length!==0&&e.forEach(function(r){var n=r.getHelper();$n(n,{state:n.state.resetPage(),recommendState:n.recommendState,isPageReset:!0}),An(r.getWidgets())})}function Cn(t){var e=t.filter(J);return e.reduce(function(r,n){return r.concat.apply(r,[{indexId:n.getIndexId(),results:n.getResults(),helper:n.getHelper()}].concat(En(Cn(n.getWidgets()))))},[])}var eo=function(e){if(e===void 0||e.indexName===void 0)throw new Error(_e("The `indexName` option is required."));var r=e.indexName,n=e.indexId,i=n===void 0?r:n,a=[],s={},o=null,u=null,c=null,f=null,l=null,d=!1,m=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return r},getIndexId:function(){return i},getHelper:function(){return c},getResults:function(){var h;return(h=f)!==null&&h!==void 0&&h.lastResults?(f.lastResults._state=c.state,f.lastResults):null},getResultsForWidget:function(h){var v;return h.dependsOn!=="recommend"||J(h)||h.$$id===void 0?this.getResults():(v=c)!==null&&v!==void 0&&v.lastRecommendResults?c.lastRecommendResults[h.$$id]:null},getPreviousState:function(){return l},getScopedResults:function(){var h=this.getParent(),v;return h?v=h.getWidgets():r.length===0?v=this.getWidgets():v=[this],Cn(v)},getParent:function(){return u},createURL:function(h){return typeof h=="function"?o._createURL(ye({},i,h(s))):o._createURL(ye({},i,Fe(a,{searchParameters:h,helper:c})))},getWidgets:function(){return a},addWidgets:function(h){var v=this;if(!Array.isArray(h))throw new Error(_e("The `addWidgets` method expects an array of widgets."));if(h.some(function(b){return typeof b.init!="function"&&typeof b.render!="function"}))throw new Error(_e("The widget definition expects a `render` and/or an `init` method."));return h.forEach(function(b){J(b)||(o&&b.dependsOn==="recommend"?o._hasRecommendWidget=!0:o?o._hasSearchWidget=!0:b.dependsOn==="recommend"?d=!0:m=!0,Ba(b))}),a=a.concat(h),o&&h.length&&($n(c,{state:je(a,{uiState:s,initialSearchParameters:c.state}),recommendState:Tr(a,{uiState:s,initialRecommendParameters:c.recommendState}),_uiState:s}),h.forEach(function(b){if(b.getRenderState){var y=b.getRenderState(o.renderState[v.getIndexId()]||{},$e(o,v,o._initialUiState));xt({renderState:y,instantSearchInstance:o,parent:v})}}),h.forEach(function(b){b.init&&b.init($e(o,v,o._initialUiState))}),o.scheduleSearch()),this},removeWidgets:function(h){var v=this;if(!Array.isArray(h))throw new Error(_e("The `removeWidgets` method expects an array of widgets."));if(h.some(function(P){return typeof P.dispose!="function"}))throw new Error(_e("The widget definition expects a `dispose` method."));if(a=a.filter(function(P){return h.indexOf(P)===-1}),a.forEach(function(P){J(P)||(o&&P.dependsOn==="recommend"?o._hasRecommendWidget=!0:o?o._hasSearchWidget=!0:P.dependsOn==="recommend"?d=!0:m=!0)}),o&&h.length){var b=h.reduce(function(P,A){var T=A.dispose({helper:c,state:P.cleanedSearchState,recommendState:P.cleanedRecommendState,parent:v});return T instanceof K.RecommendParameters?P.cleanedRecommendState=T:T&&(P.cleanedSearchState=T),P},{cleanedSearchState:c.state,cleanedRecommendState:c.recommendState}),y=b.cleanedSearchState,x=b.cleanedRecommendState,S=o.future.preserveSharedStateOnUnmount?je(a,{uiState:s,initialSearchParameters:new K.SearchParameters({index:this.getIndexName()})}):je(a,{uiState:Fe(a,{searchParameters:y,helper:c}),initialSearchParameters:y});s=Fe(a,{searchParameters:S,helper:c}),c.setState(S),c.recommendState=x,a.length&&o.scheduleSearch()}return this},init:function(h){var v=this,b,y=h.instantSearchInstance,x=h.parent,S=h.uiState;if(c===null){o=y,u=x,s=S[i]||{};var P=y.mainHelper,A=je(a,{uiState:s,initialSearchParameters:new K.SearchParameters({index:r})}),T=Tr(a,{uiState:s,initialRecommendParameters:new K.RecommendParameters});c=K({},A.index,A),c.recommendState=T,c.search=function(){return y.onStateChange?(y.onStateChange({uiState:y.mainIndex.getWidgetUiState({}),setUiState:function(O){return y.setUiState(O,!1)}}),P):P.search()},c.searchWithoutTriggeringOnStateChange=function(){return P.search()},c.searchForFacetValues=function(w,O,N,q){var I=c.state.setQueryParameters(q);return P.searchForFacetValues(w,O,N,I)},f=P.derive(function(){return As.apply(void 0,[P.state].concat(En(Cs(v))))},function(){return v.getHelper().recommendState});var j=(b=y._initialResults)===null||b===void 0?void 0:b[this.getIndexId()];if(j!=null&&j.results){var _=new K.SearchResults(new K.SearchParameters(j.state),j.results);f.lastResults=_,c.lastResults=_}if(j!=null&&j.recommendResults){var L=new K.RecommendResults(new K.RecommendParameters({params:j.recommendResults.params}),j.recommendResults.results);f.lastRecommendResults=L,c.lastRecommendResults=L}c.on("change",function(w){var O=w.isPageReset;O&&An(a)}),f.on("search",function(){y.scheduleStalledRender()}),f.on("result",function(w){var O=w.results;y.scheduleRender(),c.lastResults=O,l=O==null?void 0:O._state}),f.on("recommend:result",function(w){var O=w.recommend;y.scheduleRender(),c.lastRecommendResults=O.results}),a.forEach(function(w){if(w.getRenderState){var O=w.getRenderState(y.renderState[v.getIndexId()]||{},$e(y,v,S));xt({renderState:O,instantSearchInstance:y,parent:v})}}),a.forEach(function(w){w.init&&w.init($e(y,v,S))}),c.on("change",function(w){var O=w.state,N=w._uiState;s=Fe(a,{searchParameters:O,helper:c},N||{}),y.onStateChange||y.onInternalStateChange()}),j&&y.scheduleRender(),d&&(y._hasRecommendWidget=!0),m&&(y._hasSearchWidget=!0)}},render:function(h){var v,b=this,y=h.instantSearchInstance;y.status==="error"&&!y.mainHelper.hasPendingRequests()&&l&&c.setState(l);var x=this.getResults()||(v=f)!==null&&v!==void 0&&v.lastRecommendResults?a:a.filter(J);x=x.filter(function(S){return S.shouldRender?S.shouldRender({instantSearchInstance:y}):!0}),x.forEach(function(S){if(S.getRenderState){var P=S.getRenderState(y.renderState[b.getIndexId()]||{},_r(y,b,S));xt({renderState:P,instantSearchInstance:y,parent:b})}}),x.forEach(function(S){S.render&&S.render(_r(y,b,S))})},dispose:function(){var h=this,v,b;a.forEach(function(y){y.dispose&&c&&y.dispose({helper:c,state:c.state,recommendState:c.recommendState,parent:h})}),o=null,u=null,(v=c)===null||v===void 0||v.removeAllListeners(),c=null,(b=f)===null||b===void 0||b.detach(),f=null},getWidgetUiState:function(h){return a.filter(J).reduce(function(v,b){return b.getWidgetUiState(v)},te(te({},h),{},ye({},i,te(te({},h[i]),s))))},getWidgetState:function(h){return this.getWidgetUiState(h)},getWidgetSearchParameters:function(h,v){var b=v.uiState;return je(a,{uiState:b,initialSearchParameters:h})},refreshUiState:function(){s=Fe(a,{searchParameters:this.getHelper().state,helper:this.getHelper()},s)},setIndexUiState:function(h){var v=typeof h=="function"?h(s):h;o.setUiState(function(b){return te(te({},b),{},ye({},i,v))})}}};function xt(t){var e=t.renderState,r=t.instantSearchInstance,n=t.parent,i=n?n.getIndexId():r.mainIndex.getIndexId();r.renderState=te(te({},r.renderState),{},ye({},i,te(te({},r.renderState[i]),e)))}function to(t,e){return ao(t)||io(t,e)||no(t,e)||ro()}function ro(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function no(t,e){if(t){if(typeof t=="string")return $r(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $r(t,e)}}function $r(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function io(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function ao(t){if(Array.isArray(t))return t}function so(){var t=H.useReducer(function(n){return n+1},0),e=to(t,2),r=e[1];return r}var oo="ais",it=function(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.descendantName,i=r.modifierName,a=n?"-".concat(n):"",s=i?"--".concat(i):"";return"".concat(oo,"-").concat(e).concat(a).concat(s)}},co=it("Highlight");function uo(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,s=a===void 0?{}:a,o=nt(i._highlightResult,e),u=o||{},c=u.value,f=c===void 0?"":c,l=co({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return f.replace(new RegExp(z.highlightPreTag,"g"),"<".concat(n,' class="').concat(l,'">')).replace(new RegExp(z.highlightPostTag,"g"),"</".concat(n,">"))}var fo=it("ReverseHighlight");function lo(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,s=a===void 0?{}:a,o=nt(i._highlightResult,e),u=o||{},c=u.value,f=c===void 0?"":c,l=fo({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),d=Pn(jn(On(f)));return d.replace(new RegExp(z.highlightPreTag,"g"),"<".concat(n,' class="').concat(l,'">')).replace(new RegExp(z.highlightPostTag,"g"),"</".concat(n,">"))}var ho=it("Snippet");function mo(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,s=a===void 0?{}:a,o=nt(i._snippetResult,e),u=o||{},c=u.value,f=c===void 0?"":c,l=ho({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return f.replace(new RegExp(z.highlightPreTag,"g"),"<".concat(n,' class="').concat(l,'">')).replace(new RegExp(z.highlightPostTag,"g"),"</".concat(n,">"))}var go=it("ReverseSnippet");function vo(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,s=a===void 0?{}:a,o=nt(i._snippetResult,e),u=o||{},c=u.value,f=c===void 0?"":c,l=go({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),d=Pn(jn(On(f)));return d.replace(new RegExp(z.highlightPreTag,"g"),"<".concat(n,' class="').concat(l,'">')).replace(new RegExp(z.highlightPostTag,"g"),"</".concat(n,">"))}function kt(t){"@babel/helpers - typeof";return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(t)}function po(t){var e=t.method,r=t.payload;if(kt(r)!=="object")throw new Error("The insights helper expects the payload to be an object.");var n;try{n=Ka(r)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(e,'" data-insights-payload="').concat(n,'"')}function yo(t,e){return po({method:t,payload:e})}function Ut(t){"@babel/helpers - typeof";return Ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(t)}var bo="_ALGOLIA";function Ro(t){if(!((typeof document>"u"?"undefined":Ut(document))!=="object"||typeof document.cookie!="string"))for(var e="".concat(t,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}}function So(){return Ro(bo)}function xo(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t==="x"?e:e&3|8;return r.toString(16)})}function Ue(t){"@babel/helpers - typeof";return Ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(t)}function Ar(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function he(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ar(Object(r),!0).forEach(function(n){Po(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ar(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Po(t,e,r){return e=wo(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wo(t){var e=Oo(t,"string");return Ue(e)==="symbol"?e:String(e)}function Oo(t,e){if(Ue(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ue(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ce(t,e){return jo(t)||Fo(t,e)||Nn(t,e)||_o()}function _o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fo(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],u=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function jo(t){if(Array.isArray(t))return t}function Eo(t){return Ao(t)||$o(t)||Nn(t)||To()}function To(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nn(t,e){if(t){if(typeof t=="string")return Lt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lt(t,e)}}function $o(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ao(t){if(Array.isArray(t))return Lt(t)}function Lt(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Hn="2.17.2",Co="https://cdn.jsdelivr.net/npm/search-insights@".concat(Hn,"/dist/search-insights.min.js");function Cr(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.insightsClient,r=t.insightsInitParams,n=t.onEvent,i=t.$$internal,a=i===void 0?!1:i,s=t.$$automatic,o=s===void 0?!1:s,u,c=e;!e&&e!==null&&fe(function(l){var d=l.window,m=d.AlgoliaAnalyticsObject||"aa";typeof m=="string"&&(c=d[m]),c||(d.AlgoliaAnalyticsObject=m,d[m]||(d[m]=function(){d[m].queue||(d[m].queue=[]);for(var g=arguments.length,h=new Array(g),v=0;v<g;v++)h[v]=arguments[v];d[m].queue.push(h)},d[m].version=Hn,d[m].shouldAddScript=!0),c=d[m])});var f=c||ae;return function(l){var d=l.instantSearchInstance,m=d.middleware.filter(function(O){return O.instance.$$type==="ais.insights"&&O.instance.$$internal}).map(function(O){return O.creator});d.unuse.apply(d,Eo(m));var g=Ya(d.client),h=ce(g,2),v=h[0],b=h[1],y=void 0,x=void 0,S=void 0,P=void 0,A=void 0,T=f.queue;if(Array.isArray(T)){var j=["setUserToken","setAuthenticatedUserToken","init"].map(function(O){var N=yr(T.slice().reverse(),function(X){var Y=ce(X,1),oe=Y[0];return oe===O})||[],q=ce(N,2),I=q[1];return I}),_=ce(j,3);x=_[0],S=_[1],y=_[2]}f("getUserToken",null,function(O,N){P=Pt(N)}),f("getAuthenticatedUserToken",null,function(O,N){A=Pt(N)}),(r||!Nr(f))&&f("init",he({appId:v,apiKey:b,partial:!0},r));var L,w;return{$$type:"ais.insights",$$internal:a,$$automatic:o,onStateChange:function(){},subscribe:function(){if(f.shouldAddScript){var N="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var q=document.createElement("script");q.async=!0,q.src=Co,q.onerror=function(){d.emit("error",new Error(N))},document.body.appendChild(q),f.shouldAddScript=!1}catch{f.shouldAddScript=!1,d.emit("error",new Error(N))}}},started:function(){f("addAlgoliaAgent","insights-middleware"),w=d.mainHelper;var N=f.queue;if(Array.isArray(N)){var q=["setUserToken","setAuthenticatedUserToken","init"].map(function($){var D=yr(N.slice().reverse(),function(ht){var ze=ce(ht,1),Ke=ze[0];return Ke===$})||[],Q=ce(D,2),ne=Q[1];return ne}),I=ce(q,3);x=I[0],S=I[1],y=I[2]}L={userToken:w.state.userToken,clickAnalytics:w.state.clickAnalytics},o||w.overrideStateWithoutTriggeringChangeEvent(he(he({},w.state),{},{clickAnalytics:!0})),a||d.scheduleSearch();var X=function(D,Q){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ht=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,ze=Pt(D);if(!ze)return;var Ke=w.state.userToken;function or(){w.overrideStateWithoutTriggeringChangeEvent(he(he({},w.state),{},{userToken:ze})),Ke&&Ke!==D&&d.scheduleSearch(),u=Q}u&&u==="authenticated"&&Q==="default"&&!ht||(ne?or():setTimeout(or,0))};function Y($,D,Q){X($,Q?"authenticated":"default",!0),D&&f("setUserToken",D),Q&&f("setAuthenticatedUserToken",Q)}var oe=void 0,rr=So();if(rr)oe=rr;else{var zn="anonymous-".concat(xo());oe=zn}var at,st,ot=L.userToken;r&&(r.authenticatedUserToken?at=r.authenticatedUserToken:r.userToken&&(st=r.userToken));var nr=at||st,ir=A||P,ar=S||x;if(nr)Y(nr,st,at);else if(ot)Y(ot,ot,void 0);else if(ir)Y(ir,P,A);else if(ar)Y(ar,x,S);else if(oe){var ct;if(Y(oe,oe,void 0),r!=null&&r.useCookie||(ct=y)!==null&&ct!==void 0&&ct.useCookie){var ut;No(oe,(r==null?void 0:r.cookieDuration)||((ut=y)===null||ut===void 0?void 0:ut.cookieDuration))}}f("onUserTokenChange",function($){return X($,"default",!0)},{immediate:!0}),f("onAuthenticatedUserTokenChange",function($){$||f("getUserToken",null,function(D,Q){X(Q,"default",!0,!0)}),X($,"authenticated",!0)},{immediate:!0});var ft=f;Nr(f)&&(ft=function(D,Q){var ne={headers:{"X-Algolia-Application-Id":v,"X-Algolia-API-Key":b}};return f(D,Q,ne)});var lt=new Set,sr;d.mainHelper.derivedHelpers[0].on("result",function($){var D=$.results;(!D.queryID||D.queryID!==sr)&&(sr=D.queryID,lt.clear())}),d.sendEventToInsights=function($){if(n)n($,ft);else if($.insightsMethod){if($.insightsMethod==="viewedObjectIDs"){var D=$.payload,Q=D.objectIDs.filter(function(ne){return!lt.has(ne)});if(Q.length===0)return;Q.forEach(function(ne){return lt.add(ne)}),D.objectIDs=Q}$.payload.algoliaSource=["instantsearch"],o&&$.payload.algoliaSource.push("instantsearch-automatic"),$.eventModifier==="internal"&&$.payload.algoliaSource.push("instantsearch-internal"),ft($.insightsMethod,$.payload)}}},unsubscribe:function(){f("onUserTokenChange",void 0),f("onAuthenticatedUserTokenChange",void 0),d.sendEventToInsights=ae,w&&L&&(w.overrideStateWithoutTriggeringChangeEvent(he(he({},w.state),L)),d.scheduleSearch())}}}}function No(t,e){var r=2592e6,n=new Date;n.setTime(n.getTime()+(e||r*6));var i="expires=".concat(n.toUTCString());document.cookie="_ALGOLIA=".concat(t,";").concat(i,";path=/")}function Nr(t){var e=(t.version||"").split(".").map(Number),r=ce(e,2),n=r[0],i=r[1],a=n>=3,s=n===2&&i>=6,o=n===1&&i>=10;return a||s||o}function Pt(t){if(t)return typeof t=="number"?t.toString():t}function In(t,e,r){var n=$e(e,e.mainIndex,e._initialUiState);t.forEach(function(i){var a={};if(i.getWidgetRenderState){var s=i.getWidgetRenderState(n);s&&s.widgetParams&&(a=s.widgetParams)}var o=Object.keys(a).filter(function(u){return a[u]!==void 0});r.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:o}),i.$$type==="ais.index"&&In(i.getWidgets(),e,r)})}function Ho(){return fe(function(t){var e,r,n=t.window;return((e=n.navigator)===null||e===void 0||(r=e.userAgent)===null||r===void 0?void 0:r.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function Io(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.$$internal,r=e===void 0?!1:e;return function(n){var i=n.instantSearchInstance,a={widgets:[]},s=document.createElement("meta"),o=document.querySelector("head");return s.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:r,onStateChange:function(){},subscribe:function(){setTimeout(function(){var c=i.client;a.ua=c.transporter&&c.transporter.userAgent?c.transporter.userAgent.value:c._ua,In(i.mainIndex.getWidgets(),i,a),i.middleware.forEach(function(f){return a.widgets.push({middleware:!0,type:f.instance.$$type,internal:f.instance.$$internal})}),s.content=JSON.stringify(a),o.appendChild(s)},0)},started:function(){},unsubscribe:function(){s.remove()}}}}var Do=String.prototype.replace,ko=/%20/g,wt={RFC1738:"RFC1738",RFC3986:"RFC3986"},tr={default:wt.RFC3986,formatters:{RFC1738:function(t){return Do.call(t,ko,"+")},RFC3986:function(t){return String(t)}},RFC1738:wt.RFC1738,RFC3986:wt.RFC3986},Uo=tr,Ot=Object.prototype.hasOwnProperty,me=Array.isArray,Z=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Lo=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(me(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},Dn=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Qo=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(me(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Ot.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return me(e)&&!me(r)&&(i=Dn(e,n)),me(e)&&me(r)?(r.forEach(function(a,s){if(Ot.call(e,s)){var o=e[s];o&&typeof o=="object"&&a&&typeof a=="object"?e[s]=t(o,a,n):e.push(a)}else e[s]=a}),e):Object.keys(r).reduce(function(a,s){var o=r[s];return Ot.call(a,s)?a[s]=t(a[s],o,n):a[s]=o,a},i)},Wo=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Mo=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Bo=function(e,r,n,i,a){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var o="",u=0;u<s.length;++u){var c=s.charCodeAt(u);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||a===Uo.RFC1738&&(c===40||c===41)){o+=s.charAt(u);continue}if(c<128){o=o+Z[c];continue}if(c<2048){o=o+(Z[192|c>>6]+Z[128|c&63]);continue}if(c<55296||c>=57344){o=o+(Z[224|c>>12]+Z[128|c>>6&63]+Z[128|c&63]);continue}u+=1,c=65536+((c&1023)<<10|s.charCodeAt(u)&1023),o+=Z[240|c>>18]+Z[128|c>>12&63]+Z[128|c>>6&63]+Z[128|c&63]}return o},qo=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],s=a.obj[a.prop],o=Object.keys(s),u=0;u<o.length;++u){var c=o[u],f=s[c];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:s,prop:c}),n.push(f))}return Lo(r),e},Vo=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},zo=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Ko=function(e,r){return[].concat(e,r)},Jo=function(e,r){if(me(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},kn={arrayToObject:Dn,assign:Wo,combine:Ko,compact:qo,decode:Mo,encode:Bo,isBuffer:zo,isRegExp:Vo,maybeMap:Jo,merge:Qo},Qt=kn,Ae=tr,Go=Object.prototype.hasOwnProperty,Hr={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},ge=Array.isArray,Xo=String.prototype.split,Yo=Array.prototype.push,Un=function(t,e){Yo.apply(t,ge(e)?e:[e])},Zo=Date.prototype.toISOString,Ir=Ae.default,U={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Qt.encode,encodeValuesOnly:!1,format:Ir,formatter:Ae.formatters[Ir],indices:!1,serializeDate:function(e){return Zo.call(e)},skipNulls:!1,strictNullHandling:!1},ec=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},tc=function t(e,r,n,i,a,s,o,u,c,f,l,d,m,g){var h=e;if(typeof o=="function"?h=o(r,h):h instanceof Date?h=f(h):n==="comma"&&ge(h)&&(h=Qt.maybeMap(h,function(w){return w instanceof Date?f(w):w})),h===null){if(i)return s&&!m?s(r,U.encoder,g,"key",l):r;h=""}if(ec(h)||Qt.isBuffer(h)){if(s){var v=m?r:s(r,U.encoder,g,"key",l);if(n==="comma"&&m){for(var b=Xo.call(String(h),","),y="",x=0;x<b.length;++x)y+=(x===0?"":",")+d(s(b[x],U.encoder,g,"value",l));return[d(v)+"="+y]}return[d(v)+"="+d(s(h,U.encoder,g,"value",l))]}return[d(r)+"="+d(String(h))]}var S=[];if(typeof h>"u")return S;var P;if(n==="comma"&&ge(h))P=[{value:h.length>0?h.join(",")||null:void 0}];else if(ge(o))P=o;else{var A=Object.keys(h);P=u?A.sort(u):A}for(var T=0;T<P.length;++T){var j=P[T],_=typeof j=="object"&&typeof j.value<"u"?j.value:h[j];if(!(a&&_===null)){var L=ge(h)?typeof n=="function"?n(r,j):r:r+(c?"."+j:"["+j+"]");Un(S,t(_,L,n,i,a,s,o,u,c,f,l,d,m,g))}}return S},rc=function(e){if(!e)return U;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||U.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ae.default;if(typeof e.format<"u"){if(!Go.call(Ae.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Ae.formatters[n],a=U.filter;return(typeof e.filter=="function"||ge(e.filter))&&(a=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:U.addQueryPrefix,allowDots:typeof e.allowDots>"u"?U.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:U.charsetSentinel,delimiter:typeof e.delimiter>"u"?U.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:U.encode,encoder:typeof e.encoder=="function"?e.encoder:U.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:U.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:U.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:U.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:U.strictNullHandling}},nc=function(t,e){var r=t,n=rc(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):ge(n.filter)&&(a=n.filter,i=a);var s=[];if(typeof r!="object"||r===null)return"";var o;e&&e.arrayFormat in Hr?o=e.arrayFormat:e&&"indices"in e?o=e.indices?"indices":"repeat":o="indices";var u=Hr[o];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var c=0;c<i.length;++c){var f=i[c];n.skipNulls&&r[f]===null||Un(s,tc(r[f],f,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset))}var l=s.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),l.length>0?d+l:""},Re=kn,Wt=Object.prototype.hasOwnProperty,ic=Array.isArray,k={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Re.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},ac=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Ln=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},sc="utf8=%26%2310003%3B",oc="utf8=%E2%9C%93",cc=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,a),o=-1,u,c=r.charset;if(r.charsetSentinel)for(u=0;u<s.length;++u)s[u].indexOf("utf8=")===0&&(s[u]===oc?c="utf-8":s[u]===sc&&(c="iso-8859-1"),o=u,u=s.length);for(u=0;u<s.length;++u)if(u!==o){var f=s[u],l=f.indexOf("]="),d=l===-1?f.indexOf("="):l+1,m,g;d===-1?(m=r.decoder(f,k.decoder,c,"key"),g=r.strictNullHandling?null:""):(m=r.decoder(f.slice(0,d),k.decoder,c,"key"),g=Re.maybeMap(Ln(f.slice(d+1),r),function(h){return r.decoder(h,k.decoder,c,"value")})),g&&r.interpretNumericEntities&&c==="iso-8859-1"&&(g=ac(g)),f.indexOf("[]=")>-1&&(g=ic(g)?[g]:g),Wt.call(n,m)?n[m]=Re.combine(n[m],g):n[m]=g}return n},uc=function(t,e,r,n){for(var i=n?e:Ln(e,r),a=t.length-1;a>=0;--a){var s,o=t[a];if(o==="[]"&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var u=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o,c=parseInt(u,10);!r.parseArrays&&u===""?s={0:i}:!isNaN(c)&&o!==u&&String(c)===u&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(s=[],s[c]=i):u!=="__proto__"&&(s[u]=i)}i=s}return i},fc=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,u=n.depth>0&&s.exec(a),c=u?a.slice(0,u.index):a,f=[];if(c){if(!n.plainObjects&&Wt.call(Object.prototype,c)&&!n.allowPrototypes)return;f.push(c)}for(var l=0;n.depth>0&&(u=o.exec(a))!==null&&l<n.depth;){if(l+=1,!n.plainObjects&&Wt.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(u[1])}return u&&f.push("["+a.slice(u.index)+"]"),uc(f,r,n,i)}},lc=function(e){if(!e)return k;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?k.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?k.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:k.allowPrototypes,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:k.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:k.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:k.comma,decoder:typeof e.decoder=="function"?e.decoder:k.decoder,delimiter:typeof e.delimiter=="string"||Re.isRegExp(e.delimiter)?e.delimiter:k.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:k.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:k.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:k.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:k.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:k.strictNullHandling}},hc=function(t,e){var r=lc(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?cc(t,r):t,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),s=0;s<a.length;++s){var o=a[s],u=fc(o,n[o],r,typeof t=="string");i=Re.merge(i,u,r)}return Re.compact(i)},dc=nc,mc=hc,gc=tr,vc={formats:gc,parse:mc,stringify:dc};const Dr=qt(vc);function Le(t){"@babel/helpers - typeof";return Le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(t)}function pc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qn(n.key),n)}}function bc(t,e,r){return e&&yc(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function M(t,e,r){return e=Qn(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qn(t){var e=Rc(t,"string");return Le(e)==="symbol"?e:String(e)}function Rc(t,e){if(Le(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Le(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kr=function(e){e&&(window.document.title=e)},Sc=function(){function t(e){var r=this,n=e.windowTitle,i=e.writeDelay,a=i===void 0?400:i,s=e.createURL,o=e.parseURL,u=e.getLocation,c=e.start,f=e.dispose,l=e.push,d=e.cleanUrlOnDispose;pc(this,t),M(this,"$$type","ais.browser"),M(this,"windowTitle",void 0),M(this,"writeDelay",void 0),M(this,"_createURL",void 0),M(this,"parseURL",void 0),M(this,"getLocation",void 0),M(this,"writeTimer",void 0),M(this,"_onPopState",void 0),M(this,"inPopState",!1),M(this,"isDisposed",!1),M(this,"latestAcknowledgedHistory",0),M(this,"_start",void 0),M(this,"_dispose",void 0),M(this,"_push",void 0),M(this,"_cleanUrlOnDispose",void 0),this.windowTitle=n,this.writeTimer=void 0,this.writeDelay=a,this._createURL=s,this.parseURL=o,this.getLocation=u,this._start=c,this._dispose=f,this._push=l,this._cleanUrlOnDispose=typeof d>"u"?!0:d,fe(function(m){var g=m.window,h=r.windowTitle&&r.windowTitle(r.read());kr(h),r.latestAcknowledgedHistory=g.history.length})}return bc(t,[{key:"read",value:function(){return this.parseURL({qsModule:Dr,location:this.getLocation()})}},{key:"write",value:function(r){var n=this;fe(function(i){var a=i.window,s=n.createURL(r),o=n.windowTitle&&n.windowTitle(r);n.writeTimer&&clearTimeout(n.writeTimer),n.writeTimer=setTimeout(function(){kr(o),n.shouldWrite(s)&&(n._push?n._push(s):a.history.pushState(r,o||"",s),n.latestAcknowledgedHistory=a.history.length),n.inPopState=!1,n.writeTimer=void 0},n.writeDelay)})}},{key:"onUpdate",value:function(r){var n=this;this._start&&this._start(function(){r(n.read())}),this._onPopState=function(){n.writeTimer&&(clearTimeout(n.writeTimer),n.writeTimer=void 0),n.inPopState=!0,r(n.read())},fe(function(i){var a=i.window;a.addEventListener("popstate",n._onPopState)})}},{key:"createURL",value:function(r){var n=this._createURL({qsModule:Dr,routeState:r,location:this.getLocation()});return n}},{key:"dispose",value:function(){var r=this;this._dispose&&this._dispose(),this.isDisposed=!0,fe(function(n){var i=n.window;r._onPopState&&i.removeEventListener("popstate",r._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(r){var n=this;return fe(function(i){var a=i.window;if(n.isDisposed&&!n._cleanUrlOnDispose)return!1;var s=!(n.isDisposed&&n.latestAcknowledgedHistory!==a.history.length);return!n.inPopState&&s&&r!==a.location.href})}}]),t}();function xc(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.createURL,r=e===void 0?function(g){var h=g.qsModule,v=g.routeState,b=g.location,y=b.protocol,x=b.hostname,S=b.port,P=S===void 0?"":S,A=b.pathname,T=b.hash,j=h.stringify(v),_=P===""?"":":".concat(P);return j?"".concat(y,"//").concat(x).concat(_).concat(A,"?").concat(j).concat(T):"".concat(y,"//").concat(x).concat(_).concat(A).concat(T)}:e,n=t.parseURL,i=n===void 0?function(g){var h=g.qsModule,v=g.location;return h.parse(v.search.slice(1),{arrayLimit:99})}:n,a=t.writeDelay,s=a===void 0?400:a,o=t.windowTitle,u=t.getLocation,c=u===void 0?function(){return fe(function(g){var h=g.window;return h.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:u,f=t.start,l=t.dispose,d=t.push,m=t.cleanUrlOnDispose;return new Sc({createURL:r,parseURL:i,writeDelay:s,windowTitle:o,getLocation:c,start:f,dispose:l,push:d,cleanUrlOnDispose:m})}function Qe(t){"@babel/helpers - typeof";return Qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(t)}var Pc=["configure"];function Ur(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ge(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ur(Object(r),!0).forEach(function(n){Mt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mt(t,e,r){return e=wc(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wc(t){var e=Oc(t,"string");return Qe(e)==="symbol"?e:String(e)}function Oc(t,e){if(Qe(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qe(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _c(t,e){if(t==null)return{};var r=Fc(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fc(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Lr(t){t.configure;var e=_c(t,Pc);return e}function jc(){return{$$type:"ais.simple",stateToRoute:function(e){return Object.keys(e).reduce(function(r,n){return Ge(Ge({},r),{},Mt({},n,Lr(e[n])))},{})},routeToState:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(r,n){return Ge(Ge({},r),{},Mt({},n,Lr(e[n])))},{})}}}function We(t){"@babel/helpers - typeof";return We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(t)}function Qr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qr(Object(r),!0).forEach(function(n){Wn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qr(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wn(t,e,r){return e=Ec(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ec(t){var e=Tc(t,"string");return We(e)==="symbol"?e:String(e)}function Tc(t,e){if(We(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(We(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $c=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.router,n=r===void 0?xc():r,i=e.stateMapping,a=i===void 0?jc():i,s=e.$$internal,o=s===void 0?!1:s;return function(u){var c=u.instantSearchInstance;function f(m){var g=c.mainIndex.getWidgets().length===0?c._initialUiState:c.mainIndex.getWidgetUiState({}),h=Object.keys(m).reduce(function(b,y){return Xe(Xe({},b),{},Wn({},y,m[y]))},g),v=a.stateToRoute(h);return n.createURL(v)}c._createURL=f;var l=void 0,d=c._initialUiState;return{$$type:"ais.router({router:".concat(n.$$type||"__unknown__",", stateMapping:").concat(a.$$type||"__unknown__","})"),$$internal:o,onStateChange:function(g){var h=g.uiState,v=a.stateToRoute(h);(l===void 0||!Fn(l,v))&&(n.write(v),l=v)},subscribe:function(){c._initialUiState=Xe(Xe({},d),a.routeToState(n.read())),n.onUpdate(function(g){c.mainIndex.getWidgets().length>0&&c.setUiState(a.routeToState(g))})},started:function(){var g;(g=n.start)===null||g===void 0||g.call(n)},unsubscribe:function(){n.dispose()}}}};function Ac(t,e){return t.toLocaleString(e)}function Me(t){"@babel/helpers - typeof";return Me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(t)}function Wr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wr(Object(r),!0).forEach(function(n){Cc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wr(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cc(t,e,r){return e=Nc(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nc(t){var e=Hc(t,"string");return Me(e)==="symbol"?e:String(e)}function Hc(t,e){if(Me(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Me(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ic(t){var e=t.numberLocale;return{formatNumber:function(n,i){return Ac(Number(i(n)),e)},highlight:function(n,i){try{var a=JSON.parse(n);return i(uo(ie(ie({},a),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(n,i){try{var a=JSON.parse(n);return i(lo(ie(ie({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(n,i){try{var a=JSON.parse(n);return i(mo(ie(ie({},a),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(n,i){try{var a=JSON.parse(n);return i(vo(ie(ie({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(n,i){try{var a=JSON.parse(n),s=a.method,o=a.payload;return i(yo(s,ie({objectIDs:[this.objectID]},o)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}const Dc="4.75.5";function Se(t){"@babel/helpers - typeof";return Se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(t)}function Mr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mr(Object(r),!0).forEach(function(n){E(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mr(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mn(n.key),n)}}function Lc(t,e,r){return e&&Uc(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bt(t,e)}function Bt(t,e){return Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bt(t,e)}function Wc(t){var e=Bc();return function(){var n=et(t),i;if(e){var a=et(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Mc(this,i)}}function Mc(t,e){if(e&&(Se(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(t)}function F(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bc(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function et(t){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},et(t)}function E(t,e,r){return e=Mn(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mn(t){var e=qc(t,"string");return Se(e)==="symbol"?e:String(e)}function qc(t,e){if(Se(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Se(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ee=wn({name:"instantsearch"});function Vc(){return"#"}var Bn={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},zc=function(t){Qc(r,t);var e=Wc(r);function r(n){var i;kc(this,r),i=e.call(this),E(F(i),"client",void 0),E(F(i),"indexName",void 0),E(F(i),"insightsClient",void 0),E(F(i),"onStateChange",null),E(F(i),"future",void 0),E(F(i),"helper",void 0),E(F(i),"mainHelper",void 0),E(F(i),"mainIndex",void 0),E(F(i),"started",void 0),E(F(i),"templatesConfig",void 0),E(F(i),"renderState",{}),E(F(i),"_stalledSearchDelay",void 0),E(F(i),"_searchStalledTimer",void 0),E(F(i),"_initialUiState",void 0),E(F(i),"_initialResults",void 0),E(F(i),"_createURL",void 0),E(F(i),"_searchFunction",void 0),E(F(i),"_mainHelperSearch",void 0),E(F(i),"_hasSearchWidget",!1),E(F(i),"_hasRecommendWidget",!1),E(F(i),"_insights",void 0),E(F(i),"middleware",[]),E(F(i),"sendEventToInsights",void 0),E(F(i),"status","idle"),E(F(i),"error",void 0),E(F(i),"scheduleSearch",we(function(){i.started&&i.mainHelper.search()})),E(F(i),"scheduleRender",we(function(){var w,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(w=i.mainHelper)!==null&&w!==void 0&&w.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,O&&(i.status="idle",i.error=void 0)),i.mainIndex.render({instantSearchInstance:F(i)}),i.emit("render")})),E(F(i),"onInternalStateChange",we(function(){var w=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function(O){var N=O.instance;N.onStateChange({uiState:w})})})),i.setMaxListeners(100);var a=n.indexName,s=a===void 0?"":a,o=n.numberLocale,u=n.initialUiState,c=u===void 0?{}:u,f=n.routing,l=f===void 0?null:f,d=n.insights,m=d===void 0?void 0:d,g=n.searchFunction,h=n.stalledSearchDelay,v=h===void 0?200:h,b=n.searchClient,y=b===void 0?null:b,x=n.insightsClient,S=x===void 0?null:x,P=n.onStateChange,A=P===void 0?null:P,T=n.future,j=T===void 0?_t(_t({},Bn),n.future||{}):T;if(y===null)throw new Error(ee("The `searchClient` option is required."));if(typeof y.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof y.addAlgoliaAgent=="function"&&y.addAlgoliaAgent("instantsearch.js (".concat(Dc,")")),S&&typeof S!="function")throw new Error(ee("The `insightsClient` option should be a function."));if(i.client=y,i.future=j,i.insightsClient=S,i.indexName=s,i.helper=null,i.mainHelper=null,i.mainIndex=eo({indexName:s}),i.onStateChange=A,i.started=!1,i.templatesConfig={helpers:Ic({numberLocale:o}),compileOptions:{}},i._stalledSearchDelay=v,i._searchStalledTimer=null,i._createURL=Vc,i._initialUiState=c,i._initialResults=null,i._insights=m,g&&(i._searchFunction=g),i.sendEventToInsights=ae,l){var _=typeof l=="boolean"?{}:l;_.$$internal=!0,i.use($c(_))}if(m){var L=typeof m=="boolean"?{}:m;L.$$internal=!0,i.use(Cr(L))}return Ho()&&i.use(Io({$$internal:!0})),i}return Lc(r,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];var u=s.map(function(c){var f=_t({$$type:"__unknown__",$$internal:!1,subscribe:ae,started:ae,unsubscribe:ae,onStateChange:ae},c({instantSearchInstance:i}));return i.middleware.push({creator:c,instance:f}),f});return this.started&&u.forEach(function(c){c.subscribe(),c.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return this.middleware.filter(function(o){return a.includes(o.creator)}).forEach(function(o){return o.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(o){return!a.includes(o.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(ee("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(a){return typeof a.init!="function"&&typeof a.render!="function"}))throw new Error(ee("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(ee("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(a){return typeof a.dispose!="function"}))throw new Error(ee("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(ee("The `start` method has already been called once."));var a=this.mainHelper||K(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(a.search=function(){return i.status="loading",i.scheduleRender(!1),i._hasSearchWidget&&a.searchOnlyWithDerivedHelpers(),i._hasRecommendWidget&&a.recommend(),a},this._searchFunction){var s={search:function(){return new Promise(ae)}};this._mainHelperSearch=a.search.bind(a),a.search=function(){var u=i.mainIndex.getHelper(),c=K(s,u.state.index,u.state);return c.once("search",function(f){var l=f.state;u.overrideStateWithoutTriggeringChangeEvent(l),i._mainHelperSearch()}),c.on("change",function(f){var l=f.state;u.setState(l)}),i._searchFunction(c),a}}if(a.on("error",function(u){var c=u.error;if(!(c instanceof Error)){var f=c;c=Object.keys(f).reduce(function(l,d){return l[d]=f[d],l},new Error(f.message))}c.error=c,i.error=c,i.status="error",i.scheduleRender(!1),i.emit("error",c)}),this.mainHelper=a,this.middleware.forEach(function(u){var c=u.instance;c.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){hs(this.client,this._initialResults),is(this.mainHelper,this._initialResults);var o=this.scheduleSearch;this.scheduleSearch=we(ae),we(function(){i.scheduleSearch=o})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(u){var c=u.instance;c.started()}),typeof this._insights>"u"&&a.derivedHelpers[0].once("result",function(){var u=i.mainIndex.getScopedResults().some(function(c){var f=c.results;return f==null?void 0:f._automaticInsights});u&&i.use(Cr({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(a){var s=a.instance;s.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(ee("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var o=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&s?this.onStateChange({uiState:o,setUiState:function(c){Nt(typeof c=="function"?c(o):c,a.mainIndex),a.scheduleSearch(),a.onInternalStateChange()}}):(Nt(o,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(ee("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(ee("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),r}($i),qn={exports:{}},Vn={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xe=H;function Kc(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jc=typeof Object.is=="function"?Object.is:Kc,Gc=xe.useState,Xc=xe.useEffect,Yc=xe.useLayoutEffect,Zc=xe.useDebugValue;function eu(t,e){var r=e(),n=Gc({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return Yc(function(){i.value=r,i.getSnapshot=e,Ft(i)&&a({inst:i})},[t,r,e]),Xc(function(){return Ft(i)&&a({inst:i}),t(function(){Ft(i)&&a({inst:i})})},[t]),Zc(r),r}function Ft(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Jc(t,r)}catch{return!0}}function tu(t,e){return e()}var ru=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?tu:eu;Vn.useSyncExternalStore=xe.useSyncExternalStore!==void 0?xe.useSyncExternalStore:ru;qn.exports=Vn;var nu=qn.exports,iu={};function Be(t){"@babel/helpers - typeof";return Be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(t)}function Br(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Br(Object(r),!0).forEach(function(n){au(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Br(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function au(t,e,r){return e=su(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function su(t){var e=ou(t,"string");return Be(e)==="symbol"?e:String(e)}function ou(t,e){if(Be(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Be(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vr=["react (".concat(H.version,")"),"react-instantsearch (".concat(Et,")"),"react-instantsearch-core (".concat(Et,")")],zr="react-instantsearch-server (".concat(Et,")"),cu=function(e){return e?"next.js (".concat(e,")"):null};function uu(t){var e=so(),r=Ls(),n=Ws(),i=Bs(),a=n==null?void 0:n.initialResults,s=H.useRef(t),o=r||a||i,u=H.useRef(null);if(n&&(u=n.ssrSearchRef),u.current===null){var c=new zc(t);c._schedule=function(v){c._schedule.queue.push(v),clearTimeout(c._schedule.timer),c._schedule.timer=setTimeout(function(){c._schedule.queue.forEach(function(b){b()}),c._schedule.queue=[]},0)},c._schedule.queue=[],o&&(c._initialResults=a||{}),Kr(t.searchClient,[].concat(Vr,[r&&zr,cu(fu())])),o&&c.start(),r&&r.notifyServer({search:c}),t.routing,u.current=c}{var f=u.current,l=s.current;if(l.indexName!==t.indexName&&(f.helper.setIndex(t.indexName||"").search(),s.current=t),l.searchClient!==t.searchClient&&(Kr(t.searchClient,[].concat(Vr,[r&&zr])),f.mainHelper.setClient(t.searchClient).search(),s.current=t),l.onStateChange!==t.onStateChange&&(f.onStateChange=t.onStateChange,s.current=t),l.searchFunction!==t.searchFunction&&(f._searchFunction=t.searchFunction,s.current=t),l.stalledSearchDelay!==t.stalledSearchDelay){var d;f._stalledSearchDelay=(d=t.stalledSearchDelay)!==null&&d!==void 0?d:200,s.current=t}It(l.future,t.future)||(f.future=qr(qr({},Bn),t.future),s.current=t)}var m=H.useRef(null),g=nu.useSyncExternalStore(H.useCallback(function(){var h=u.current;return m.current===null?h.started||(h.start(),e()):(clearTimeout(m.current),h._preventWidgetCleanup=!1),function(){function v(){h.dispose()}clearTimeout(h._schedule.timer),m.current=setTimeout(v),h._preventWidgetCleanup=!0}},[e]),function(){return u.current},function(){return u.current});return g}function Kr(t,e){typeof t.addAlgoliaAgent=="function"&&e.filter(Boolean).forEach(function(r){t.addAlgoliaAgent(r)})}function fu(){var t,e;return typeof window<"u"&&((t=window.next)===null||t===void 0?void 0:t.version)||(typeof process<"u"?(e=iu)===null||e===void 0?void 0:e.NEXT_RUNTIME:void 0)}var lu=["children"];function hu(t,e){if(t==null)return{};var r=du(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function du(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function mu(t){var e=t.children,r=hu(t,lu),n=uu(r);return n.started?cr.createElement(ks.Provider,{value:n},cr.createElement(Ds.Provider,{value:n.mainIndex},e)):null}const gu=Ei("I8K344S7OT","4fe2018558ca2a7783c8da1107e289e5");function Ru({header:t,children:e}){const r=Gn().props.auth.user,[n,i]=H.useState(!1);return R.jsx(R.Fragment,{children:R.jsx(mu,{searchClient:gu,indexName:"ecommerce",children:R.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:[R.jsxs("nav",{className:"border-b border-gray-100 bg-white dark:border-gray-700 dark:bg-gray-800",children:[R.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:R.jsxs("div",{className:"flex h-16 justify-between",children:[R.jsxs("div",{className:"flex",children:[R.jsx("div",{className:"flex shrink-0 items-center",children:R.jsx(tt,{href:"/",children:R.jsx(Xn,{className:"block h-9 w-auto stroke-current text-gray-800 dark:text-teal-800"})})}),R.jsxs("div",{className:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex",children:[R.jsx(ur,{href:route("dashboard"),active:route().current("dashboard"),children:"Tableau de Bord"}),R.jsx(ur,{href:route("products.index"),active:route().current("products.index"),children:"Mes recherches de produits"})]})]}),R.jsx("div",{className:"hidden sm:ms-6 sm:flex sm:items-center",children:R.jsx("div",{className:"relative ms-3",children:R.jsxs(ue,{children:[R.jsx(ue.Trigger,{children:R.jsx("span",{className:"inline-flex rounded-md",children:R.jsxs("button",{type:"button",className:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none dark:bg-gray-800 dark:text-gray-400 dark:hover:text-gray-300",children:[r.name,R.jsx("svg",{className:"-me-0.5 ms-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:R.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})}),R.jsxs(ue.Content,{children:[R.jsx(ue.Link,{href:route("profile.edit"),children:"Mon profile"}),R.jsx(ue.Link,{href:route("logout"),method:"post",as:"button",children:"Se déconnecter"})]})]})})}),R.jsx("div",{className:"-me-2 flex items-center sm:hidden",children:R.jsx("button",{onClick:()=>i(a=>!a),className:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 transition duration-150 ease-in-out hover:bg-gray-100 hover:text-gray-500 focus:bg-gray-100 focus:text-gray-500 focus:outline-none dark:text-gray-500 dark:hover:bg-gray-900 dark:hover:text-gray-400 dark:focus:bg-gray-900 dark:focus:text-gray-400",children:R.jsxs("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:[R.jsx("path",{className:n?"hidden":"inline-flex",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"}),R.jsx("path",{className:n?"inline-flex":"hidden",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})]})})})]})}),R.jsxs("div",{className:(n?"block":"hidden")+" sm:hidden",children:[R.jsx("div",{className:"space-y-1 pb-3 pt-2",children:R.jsx(dt,{href:route("dashboard"),active:route().current("dashboard"),children:"Tableau de bord"})}),R.jsxs("div",{className:"border-t border-gray-200 pb-1 pt-4 dark:border-gray-600",children:[R.jsxs("div",{className:"px-4",children:[R.jsx("div",{className:"text-base font-medium text-gray-800 dark:text-gray-200",children:r.name}),R.jsx("div",{className:"text-sm font-medium text-gray-500",children:r.email})]}),R.jsxs("div",{className:"mt-3 space-y-1",children:[R.jsx(dt,{href:route("profile.edit"),children:"Mon profile"}),R.jsx(dt,{method:"post",href:route("logout"),as:"button",children:"Se déconnecter"})]})]})]})]}),t&&R.jsx("header",{className:"bg-white shadow dark:bg-gray-800",children:R.jsx("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:t})}),R.jsx("main",{children:e})]})})})}export{Ru as A};
